"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7106],{57454:function(t,e,n){n.d(e,{y:function(){return l}});var r=n(93222),i=n(98559),o=n(84159),s=n(92252),u=n(1967),a=n(84961),c=n(89331),l=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var o,s=this,u=(o=t)&&o instanceof r.Lv||o&&(0,a.m)(o.next)&&(0,a.m)(o.error)&&(0,a.m)(o.complete)&&(0,i.Nn)(o)?t:new r.Hp(t,e,n);return(0,c.x)(function(){var t=s.operator,e=s.source;u.add(t?t.call(u,e):e?s._subscribe(u):s._trySubscribe(u))}),u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=f(e))(function(e,i){var o=new r.Hp({next:function(e){try{t(e)}catch(t){i(t),o.unsubscribe()}},error:i,complete:e});n.subscribe(o)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[o.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.U)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function f(t){var e;return null!==(e=null!=t?t:u.v.Promise)&&void 0!==e?e:Promise}},15946:function(t,e,n){n.d(e,{t:function(){return s}});var r=n(15245),i=n(52197),o=n(9115),s=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=o.l);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,n),i}return(0,r.ZT)(e,t),e.prototype.next=function(e){var n=this.isStopped,r=this._buffer,i=this._infiniteTimeWindow,o=this._timestampProvider,s=this._windowTime;!n&&(r.push(e),i||r.push(o.now()+s)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!t.closed;i+=n?1:2)t.next(r[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this._bufferSize,e=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=e.now(),s=0,u=1;u<n.length&&n[u]<=o;u+=2)s=u;s&&n.splice(0,s+1)}},e}(i.x)},52197:function(t,e,n){n.d(e,{x:function(){return c}});var r=n(15245),i=n(57454),o=n(98559),s=(0,n(78464).d)(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),u=n(96127),a=n(89331),c=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,r.ZT)(e,t),e.prototype.lift=function(t){var e=new l(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new s},e.prototype.next=function(t){var e=this;(0,a.x)(function(){var n,i;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=(0,r.XA)(e.currentObservers),s=o.next();!s.done;s=o.next())s.value.next(t)}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;(0,a.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;(0,a.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?o.Lc:(this.currentObservers=null,i.push(t),new o.w0(function(){e.currentObservers=null,(0,u.P)(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new i.y;return t.source=this,t},e.create=function(t,e){return new l(t,e)},e}(i.y),l=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return(0,r.ZT)(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:o.Lc},e}(c)},93222:function(t,e,n){n.d(e,{Hp:function(){return g},Lv:function(){return d}});var r=n(15245),i=n(84961),o=n(98559),s=n(1967),u=n(54111),a=n(73105),c=l("C",void 0,void 0);function l(t,e,n){return{kind:t,value:e,error:n}}var f=n(83034),h=n(89331),d=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,(0,o.Nn)(e)&&e.add(n)):n.destination=w,n}return(0,r.ZT)(e,t),e.create=function(t,e,n){return new g(t,e,n)},e.prototype.next=function(t){this.isStopped?b(l("N",t,void 0),this):this._next(t)},e.prototype.error=function(t){this.isStopped?b(l("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?b(c,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(o.w0),p=Function.prototype.bind;function y(t,e){return p.call(t,e)}var v=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){m(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){m(t)}else m(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){m(t)}},t}(),g=function(t){function e(e,n,r){var o,u,a=t.call(this)||this;return(0,i.m)(e)||!e?o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&s.v.useDeprecatedNextContext?((u=Object.create(e)).unsubscribe=function(){return a.unsubscribe()},o={next:e.next&&y(e.next,u),error:e.error&&y(e.error,u),complete:e.complete&&y(e.complete,u)}):o=e,a.destination=new v(o),a}return(0,r.ZT)(e,t),e}(d);function m(t){s.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(t):(0,u.h)(t)}function b(t,e){var n=s.v.onStoppedNotification;n&&f.z.setTimeout(function(){return n(t,e)})}var w={closed:!0,next:a.Z,error:function(t){throw t},complete:a.Z}},98559:function(t,e,n){n.d(e,{Lc:function(){return a},w0:function(){return u},Nn:function(){return c}});var r=n(15245),i=n(84961),o=(0,n(78464).d)(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}),s=n(96127),u=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t,e,n,s,u,a=this._parentage;if(a){if(this._parentage=null,Array.isArray(a))try{for(var c=(0,r.XA)(a),f=c.next();!f.done;f=c.next())f.value.remove(this)}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else a.remove(this)}var h=this.initialTeardown;if((0,i.m)(h))try{h()}catch(t){u=t instanceof o?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=(0,r.XA)(d),y=p.next();!y.done;y=p.next()){var v=y.value;try{l(v)}catch(t){u=null!=u?u:[],t instanceof o?u=(0,r.ev)((0,r.ev)([],(0,r.CR)(u)),(0,r.CR)(t.errors)):u.push(t)}}}catch(t){n={error:t}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}if(u)throw new o(u)}},e.prototype.add=function(t){var n;if(t&&t!==this){if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,s.P)(e,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,s.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),a=u.EMPTY;function c(t){return t instanceof u||t&&"closed"in t&&(0,i.m)(t.remove)&&(0,i.m)(t.add)&&(0,i.m)(t.unsubscribe)}function l(t){(0,i.m)(t)?t():t.unsubscribe()}},1967:function(t,e,n){n.d(e,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},55038:function(t,e,n){n.d(e,{n:function(){return i}});var r=n(80598);function i(t,e){var n="object"==typeof e;return new Promise(function(i,o){var s,u=!1;t.subscribe({next:function(t){s=t,u=!0},error:o,complete:function(){u?i(s):n?i(e.defaultValue):o(new r.K)}})})}},24339:function(t,e,n){n.d(e,{a:function(){return h},l:function(){return d}});var r=n(57454),i=n(91391),o=n(28161),s=n(14781),u=n(54949),a=n(65351),c=n(12800),l=n(2680),f=n(99377);function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,a.yG)(t),l=(0,a.jO)(t),f=(0,i.D)(t),h=f.args,p=f.keys;if(0===h.length)return(0,o.D)([],n);var y=new r.y(d(h,n,p?function(t){return(0,c.n)(p,t)}:s.y));return l?y.pipe((0,u.Z)(l)):y}function d(t,e,n){return void 0===n&&(n=s.y),function(r){p(e,function(){for(var i=t.length,s=Array(i),u=i,a=i,c=function(i){p(e,function(){var c=(0,o.D)(t[i],e),f=!1;c.subscribe((0,l.x)(r,function(t){s[i]=t,!f&&(f=!0,a--),a||r.next(n(s.slice()))},function(){--u||r.complete()}))},r)},f=0;f<i;f++)c(f)},r)}}function p(t,e,n){t?(0,f.f)(n,t,e):e()}},97999:function(t,e,n){n.d(e,{z:function(){return s}});var r=n(58425),i=n(65351),o=n(28161);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,r.u)()((0,o.D)(t,(0,i.yG)(t)))}},2033:function(t,e,n){n.d(e,{P:function(){return o}});var r=n(57454),i=n(47094);function o(t){return new r.y(function(e){(0,i.Xf)(t()).subscribe(e)})}},96951:function(t,e,n){n.d(e,{E:function(){return i},c:function(){return o}});var r=n(57454),i=new r.y(function(t){return t.complete()});function o(t){return t?new r.y(function(e){return t.schedule(function(){return e.complete()})}):i}},28161:function(t,e,n){n.d(e,{D:function(){return o}});var r=n(71647),i=n(47094);function o(t,e){return e?(0,r.x)(t,e):(0,i.Xf)(t)}},53369:function(t,e,n){n.d(e,{R:function(){return function t(e,n,p,y){if((0,a.m)(p)&&(y=p,p=void 0),y)return t(e,n,p).pipe((0,c.Z)(y));var v=(0,r.CR)((0,a.m)(e.addEventListener)&&(0,a.m)(e.removeEventListener)?f.map(function(t){return function(r){return e[t](n,r,p)}}):(0,a.m)(e.addListener)&&(0,a.m)(e.removeListener)?l.map(d(e,n)):(0,a.m)(e.on)&&(0,a.m)(e.off)?h.map(d(e,n)):[],2),g=v[0],m=v[1];if(!g&&(0,u.z)(e))return(0,s.z)(function(e){return t(e,n,p)})((0,i.Xf)(e));if(!g)throw TypeError("Invalid event target");return new o.y(function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return g(e),function(){return m(e)}})}}});var r=n(15245),i=n(47094),o=n(57454),s=n(97800),u=n(70708),a=n(84961),c=n(54949),l=["addListener","removeListener"],f=["addEventListener","removeEventListener"],h=["on","off"];function d(t,e){return function(n){return function(r){return t[n](e,r)}}}},47094:function(t,e,n){n.d(e,{Xf:function(){return y}});var r=n(15245),i=n(70708),o=n(95830),s=n(57454),u=n(21733),a=n(1411),c=n(45743),l=n(93791),f=n(72931),h=n(84961),d=n(54111),p=n(84159);function y(t){if(t instanceof s.y)return t;if(null!=t){if((0,u.c)(t))return new s.y(function(e){var n=t[p.L]();if((0,h.m)(n.subscribe))return n.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(t))return new s.y(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()});if((0,o.t)(t))return new s.y(function(e){t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,d.h)});if((0,a.D)(t))return v(t);if((0,l.T)(t))return new s.y(function(e){var n,i;try{for(var o=(0,r.XA)(t),s=o.next();!s.done;s=o.next()){var u=s.value;if(e.next(u),e.closed)return}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.complete()});if((0,f.L)(t))return v((0,f.Q)(t))}throw(0,c.z)(t)}function v(t){return new s.y(function(e){(function(t,e){var n,i,o,s;return(0,r.mG)(this,void 0,void 0,function(){var u;return(0,r.Jh)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=(0,r.KL)(t),a.label=1;case 1:return[4,n.next()];case 2:if((i=a.sent()).done)return[3,4];if(u=i.value,e.next(u),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(i&&!i.done&&(s=n.return)))return[3,8];return[4,s.call(n)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}},2178:function(t,e,n){n.d(e,{T:function(){return a}});var r=n(15903),i=n(47094),o=n(96951),s=n(65351),u=n(28161);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,s.yG)(t),a=(0,s._6)(t,1/0);return t.length?1===t.length?(0,i.Xf)(t[0]):(0,r.J)(a)((0,u.D)(t,n)):o.E}},42750:function(t,e,n){n.d(e,{of:function(){return o}});var r=n(65351),i=n(28161);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,r.yG)(t);return(0,i.D)(t,n)}},31583:function(t,e,n){n.d(e,{_:function(){return o}});var r=n(57454),i=n(84961);function o(t,e){var n=(0,i.m)(t)?t:function(){return t},o=function(t){return t.error(n())};return new r.y(e?function(t){return e.schedule(o,0,t)}:o)}},36746:function(t,e,n){n.d(e,{H:function(){return u}});var r=n(57454),i=n(83729),o=n(46388),s=n(99888);function u(t,e,n){void 0===t&&(t=0),void 0===n&&(n=i.P);var u=-1;return null!=e&&((0,o.K)(e)?n=e:u=e),new r.y(function(e){var r=(0,s.q)(t)?+t-n.now():t;r<0&&(r=0);var i=0;return n.schedule(function(){e.closed||(e.next(i++),0<=u?this.schedule(void 0,u):e.complete())},r)})}},2680:function(t,e,n){n.d(e,{Q:function(){return o},x:function(){return i}});var r=n(15245);function i(t,e,n,r,i){return new o(t,e,n,r,i)}var o=function(t){function e(e,n,r,i,o,s){var u=t.call(this,e)||this;return u.onFinalize=o,u.shouldUnsubscribe=s,u._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return(0,r.ZT)(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),n||null===(e=this.onFinalize)||void 0===e||e.call(this)}},e}(n(93222).Lv)},51272:function(t,e,n){n.d(e,{K:function(){return function t(e){return(0,o.e)(function(n,o){var s,u=null,a=!1;u=n.subscribe((0,i.x)(o,void 0,void 0,function(i){s=(0,r.Xf)(e(i,t(e)(n))),u?(u.unsubscribe(),u=null,s.subscribe(o)):a=!0})),a&&(u.unsubscribe(),u=null,s.subscribe(o))})}}});var r=n(47094),i=n(2680),o=n(70804)},58425:function(t,e,n){n.d(e,{u:function(){return i}});var r=n(15903);function i(){return(0,r.J)(1)}},12447:function(t,e,n){n.d(e,{b:function(){return o}});var r=n(97800),i=n(84961);function o(t,e){return(0,i.m)(e)?(0,r.z)(t,e,1):(0,r.z)(t,1)}},30596:function(t,e,n){n.d(e,{h:function(){return o}});var r=n(70804),i=n(2680);function o(t,e){return(0,r.e)(function(n,r){var o=0;n.subscribe((0,i.x)(r,function(n){return t.call(e,n,o++)&&r.next(n)}))})}},81581:function(t,e,n){n.d(e,{x:function(){return i}});var r=n(70804);function i(t){return(0,r.e)(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}},30542:function(t,e,n){n.d(e,{U:function(){return o}});var r=n(70804),i=n(2680);function o(t,e){return(0,r.e)(function(n,r){var o=0;n.subscribe((0,i.x)(r,function(n){r.next(t.call(e,n,o++))}))})}},15903:function(t,e,n){n.d(e,{J:function(){return o}});var r=n(97800),i=n(14781);function o(t){return void 0===t&&(t=1/0),(0,r.z)(i.y,t)}},42181:function(t,e,n){n.d(e,{p:function(){return s}});var r=n(47094),i=n(99377),o=n(2680);function s(t,e,n,s,u,a,c,l){var f=[],h=0,d=0,p=!1,y=function(){!p||f.length||h||e.complete()},v=function(t){return h<s?g(t):f.push(t)},g=function(t){a&&e.next(t),h++;var l=!1;(0,r.Xf)(n(t,d++)).subscribe((0,o.x)(e,function(t){null==u||u(t),a?v(t):e.next(t)},function(){l=!0},void 0,function(){if(l)try{for(h--;f.length&&h<s;)!function(){var t=f.shift();c?(0,i.f)(e,c,function(){return g(t)}):g(t)}();y()}catch(t){e.error(t)}}))};return t.subscribe((0,o.x)(e,v,function(){p=!0,y()})),function(){null==l||l()}}},97800:function(t,e,n){n.d(e,{z:function(){return function t(e,n,a){return(void 0===a&&(a=1/0),(0,u.m)(n))?t(function(t,o){return(0,r.U)(function(e,r){return n(t,e,o,r)})((0,i.Xf)(e(t,o)))},a):("number"==typeof n&&(a=n),(0,o.e)(function(t,n){return(0,s.p)(t,n,e,a)}))}}});var r=n(30542),i=n(47094),o=n(70804),s=n(42181),u=n(84961)},34877:function(t,e,n){n.d(e,{Q:function(){return s}});var r=n(99377),i=n(70804),o=n(2680);function s(t,e){return void 0===e&&(e=0),(0,i.e)(function(n,i){n.subscribe((0,o.x)(i,function(n){return(0,r.f)(i,t,function(){return i.next(n)},e)},function(){return(0,r.f)(i,t,function(){return i.complete()},e)},function(n){return(0,r.f)(i,t,function(){return i.error(n)},e)}))})}},68837:function(t,e,n){n.d(e,{B:function(){return a}});var r=n(15245),i=n(47094),o=n(52197),s=n(93222),u=n(70804);function a(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new o.x}:e,r=t.resetOnError,a=void 0===r||r,l=t.resetOnComplete,f=void 0===l||l,h=t.resetOnRefCountZero,d=void 0===h||h;return function(t){var e,r,o,l=0,h=!1,p=!1,y=function(){null==r||r.unsubscribe(),r=void 0},v=function(){y(),e=o=void 0,h=p=!1},g=function(){var t=e;v(),null==t||t.unsubscribe()};return(0,u.e)(function(t,u){l++,p||h||y();var m=o=null!=o?o:n();u.add(function(){0!=--l||p||h||(r=c(g,d))}),m.subscribe(u),!e&&l>0&&(e=new s.Hp({next:function(t){return m.next(t)},error:function(t){p=!0,y(),r=c(v,a,t),m.error(t)},complete:function(){h=!0,y(),r=c(v,f),m.complete()}}),(0,i.Xf)(t).subscribe(e))})(t)}}function c(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!0===e){t();return}if(!1!==e){var u=new s.Hp({next:function(){u.unsubscribe(),t()}});return(0,i.Xf)(e.apply(void 0,(0,r.ev)([],(0,r.CR)(n)))).subscribe(u)}}},55090:function(t,e,n){n.d(e,{d:function(){return o}});var r=n(15946),i=n(68837);function o(t,e,n){var o,s,u,a,c=!1;return t&&"object"==typeof t?(a=void 0===(o=t.bufferSize)?1/0:o,e=void 0===(s=t.windowTime)?1/0:s,c=void 0!==(u=t.refCount)&&u,n=t.scheduler):a=null!=t?t:1/0,(0,i.B)({connector:function(){return new r.t(a,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},77795:function(t,e,n){n.d(e,{R:function(){return i}});var r=n(70804);function i(t,e){return void 0===e&&(e=0),(0,r.e)(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}},33184:function(t,e,n){n.d(e,{q:function(){return s}});var r=n(96951),i=n(70804),o=n(2680);function s(t){return t<=0?function(){return r.E}:(0,i.e)(function(e,n){var r=0;e.subscribe((0,o.x)(n,function(e){++r<=t&&(n.next(e),t<=r&&n.complete())}))})}},26285:function(t,e,n){n.d(e,{R:function(){return u}});var r=n(70804),i=n(2680),o=n(47094),s=n(73105);function u(t){return(0,r.e)(function(e,n){(0,o.Xf)(t).subscribe((0,i.x)(n,function(){return n.complete()},s.Z)),n.closed||e.subscribe(n)})}},43786:function(t,e,n){n.d(e,{b:function(){return u}});var r=n(84961),i=n(70804),o=n(2680),s=n(14781);function u(t,e,n){var u=(0,r.m)(t)||e||n?{next:t,error:e,complete:n}:t;return u?(0,i.e)(function(t,e){null===(n=u.subscribe)||void 0===n||n.call(u);var n,r=!0;t.subscribe((0,o.x)(e,function(t){var n;null===(n=u.next)||void 0===n||n.call(u,t),e.next(t)},function(){var t;r=!1,null===(t=u.complete)||void 0===t||t.call(u),e.complete()},function(t){var n;r=!1,null===(n=u.error)||void 0===n||n.call(u,t),e.error(t)},function(){var t,e;r&&(null===(t=u.unsubscribe)||void 0===t||t.call(u)),null===(e=u.finalize)||void 0===e||e.call(u)}))}):s.y}},71647:function(t,e,n){n.d(e,{x:function(){return m}});var r=n(47094),i=n(34877),o=n(77795),s=n(57454),u=n(78010),a=n(84961),c=n(99377);function l(t,e){if(!t)throw Error("Iterable cannot be null");return new s.y(function(n){(0,c.f)(n,e,function(){var r=t[Symbol.asyncIterator]();(0,c.f)(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}var f=n(21733),h=n(95830),d=n(70708),p=n(93791),y=n(1411),v=n(45743),g=n(72931);function m(t,e){if(null!=t){if((0,f.c)(t))return(0,r.Xf)(t).pipe((0,o.R)(e),(0,i.Q)(e));if((0,d.z)(t))return new s.y(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})});if((0,h.t)(t))return(0,r.Xf)(t).pipe((0,o.R)(e),(0,i.Q)(e));if((0,y.D)(t))return l(t,e);if((0,p.T)(t))return new s.y(function(n){var r;return(0,c.f)(n,e,function(){r=t[u.h](),(0,c.f)(n,e,function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){n.error(t);return}i?n.complete():n.next(e)},0,!0)}),function(){return(0,a.m)(null==r?void 0:r.return)&&r.return()}});if((0,g.L)(t))return l((0,g.Q)(t),e)}throw(0,v.z)(t)}},12659:function(t,e,n){n.d(e,{o:function(){return u}});var r=n(15245),i=function(t){function e(e,n){return t.call(this)||this}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(98559).w0),o={setInterval:function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var s=o.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,(0,r.ev)([t,e],(0,r.CR)(n))):setInterval.apply(void 0,(0,r.ev)([t,e],(0,r.CR)(n)))},clearInterval:function(t){var e=o.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},s=n(96127),u=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n,r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),o.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&o.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(i)},84728:function(t,e,n){n.d(e,{v:function(){return s}});var r=n(15245),i=n(9115),o=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=i.l.now,t}(),s=function(t){function e(e,n){void 0===n&&(n=o.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return(0,r.ZT)(e,t),e.prototype.flush=function(t){var e,n=this.actions;if(this._active){n.push(t);return}this._active=!0;do if(e=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}},e}(o)},83729:function(t,e,n){n.d(e,{P:function(){return o},z:function(){return i}});var r=n(12659),i=new(n(84728)).v(r.o),o=i},9115:function(t,e,n){n.d(e,{l:function(){return r}});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},83034:function(t,e,n){n.d(e,{z:function(){return i}});var r=n(15245),i={setTimeout:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=i.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,r.ev)([t,e],(0,r.CR)(n))):setTimeout.apply(void 0,(0,r.ev)([t,e],(0,r.CR)(n)))},clearTimeout:function(t){var e=i.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0}},78010:function(t,e,n){n.d(e,{h:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},84159:function(t,e,n){n.d(e,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},80598:function(t,e,n){n.d(e,{K:function(){return r}});var r=(0,n(78464).d)(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}})},65351:function(t,e,n){n.d(e,{_6:function(){return a},jO:function(){return s},yG:function(){return u}});var r=n(84961),i=n(46388);function o(t){return t[t.length-1]}function s(t){return(0,r.m)(o(t))?t.pop():void 0}function u(t){return(0,i.K)(o(t))?t.pop():void 0}function a(t,e){return"number"==typeof o(t)?t.pop():e}},91391:function(t,e,n){n.d(e,{D:function(){return u}});var r=Array.isArray,i=Object.getPrototypeOf,o=Object.prototype,s=Object.keys;function u(t){if(1===t.length){var e=t[0];if(r(e))return{args:e,keys:null};if(e&&"object"==typeof e&&i(e)===o){var n=s(e);return{args:n.map(function(t){return e[t]}),keys:n}}}return{args:t,keys:null}}},93314:function(t,e,n){n.d(e,{k:function(){return i}});var r=Array.isArray;function i(t){return 1===t.length&&r(t[0])?t[0]:t}},96127:function(t,e,n){n.d(e,{P:function(){return r}});function r(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}},78464:function(t,e,n){n.d(e,{d:function(){return r}});function r(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}},12800:function(t,e,n){n.d(e,{n:function(){return r}});function r(t,e){return t.reduce(function(t,n,r){return t[n]=e[r],t},{})}},89331:function(t,e,n){n.d(e,{O:function(){return s},x:function(){return o}});var r=n(1967),i=null;function o(t){if(r.v.useDeprecatedSynchronousErrorHandling){var e=!i;if(e&&(i={errorThrown:!1,error:null}),t(),e){var n=i,o=n.errorThrown,s=n.error;if(i=null,o)throw s}}else t()}function s(t){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=t)}},99377:function(t,e,n){n.d(e,{f:function(){return r}});function r(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}},14781:function(t,e,n){n.d(e,{y:function(){return r}});function r(t){return t}},70708:function(t,e,n){n.d(e,{z:function(){return r}});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},1411:function(t,e,n){n.d(e,{D:function(){return i}});var r=n(84961);function i(t){return Symbol.asyncIterator&&(0,r.m)(null==t?void 0:t[Symbol.asyncIterator])}},99888:function(t,e,n){n.d(e,{q:function(){return r}});function r(t){return t instanceof Date&&!isNaN(t)}},84961:function(t,e,n){n.d(e,{m:function(){return r}});function r(t){return"function"==typeof t}},21733:function(t,e,n){n.d(e,{c:function(){return o}});var r=n(84159),i=n(84961);function o(t){return(0,i.m)(t[r.L])}},93791:function(t,e,n){n.d(e,{T:function(){return o}});var r=n(78010),i=n(84961);function o(t){return(0,i.m)(null==t?void 0:t[r.h])}},57982:function(t,e,n){n.d(e,{b:function(){return o}});var r=n(57454),i=n(84961);function o(t){return!!t&&(t instanceof r.y||(0,i.m)(t.lift)&&(0,i.m)(t.subscribe))}},95830:function(t,e,n){n.d(e,{t:function(){return i}});var r=n(84961);function i(t){return(0,r.m)(null==t?void 0:t.then)}},72931:function(t,e,n){n.d(e,{L:function(){return s},Q:function(){return o}});var r=n(15245),i=n(84961);function o(t){return(0,r.FC)(this,arguments,function(){var e,n,i;return(0,r.Jh)(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.qq)(e.read())];case 3:if(i=(n=o.sent()).value,!n.done)return[3,5];return[4,(0,r.qq)(void 0)];case 4:return[2,o.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function s(t){return(0,i.m)(null==t?void 0:t.getReader)}},46388:function(t,e,n){n.d(e,{K:function(){return i}});var r=n(84961);function i(t){return t&&(0,r.m)(t.schedule)}},70804:function(t,e,n){n.d(e,{A:function(){return i},e:function(){return o}});var r=n(84961);function i(t){return(0,r.m)(null==t?void 0:t.lift)}function o(t){return function(e){if(i(e))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw TypeError("Unable to lift unknown Observable type")}}},54949:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(15245),i=n(30542),o=Array.isArray;function s(t){return(0,i.U)(function(e){return o(e)?t.apply(void 0,(0,r.ev)([],(0,r.CR)(e))):t(e)})}},73105:function(t,e,n){n.d(e,{Z:function(){return r}});function r(){}},92252:function(t,e,n){n.d(e,{U:function(){return o},z:function(){return i}});var r=n(14781);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?r.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}},54111:function(t,e,n){n.d(e,{h:function(){return o}});var r=n(1967),i=n(83034);function o(t){i.z.setTimeout(function(){var e=r.v.onUnhandledError;if(e)e(t);else throw t})}},45743:function(t,e,n){n.d(e,{z:function(){return r}});function r(t){return TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},74188:function(t,e,n){n.d(e,{E9:function(){return u},Y$:function(){return l},ah:function(){return v},p4:function(){return p}});var r,i,o=n(53923);let s=new WeakMap;function u(t){return{config:t,start:(e,n)=>{let{self:r,system:i,emit:o}=n,u={receivers:void 0,dispose:void 0};s.set(r,u),u.dispose=t({input:e.input,system:i,self:r,sendBack:t=>{"stopped"!==r.getSnapshot().status&&r._parent&&i._relay(r,r._parent,t)},receive:t=>{u.receivers??=new Set,u.receivers.add(t)},emit:o})},transition:(t,e,n)=>{let r=s.get(n.self);return e.type===o.X?(t={...t,status:"stopped",error:void 0},r.dispose?.()):r.receivers?.forEach(t=>t(e)),t},getInitialSnapshot:(t,e)=>({status:"active",output:void 0,error:void 0,input:e}),getPersistedSnapshot:t=>t,restoreSnapshot:t=>t}}let a="xstate.observable.error",c="xstate.observable.complete";function l(t){return{config:t,transition:(t,e)=>{if("active"!==t.status)return t;switch(e.type){case a:return{...t,status:"error",error:e.data,input:void 0,_subscription:void 0};case c:return{...t,status:"done",input:void 0,_subscription:void 0};case o.X:return t._subscription.unsubscribe(),{...t,status:"stopped",input:void 0,_subscription:void 0};default:return t}},getInitialSnapshot:(t,e)=>({status:"active",output:void 0,error:void 0,context:void 0,input:e,_subscription:void 0}),start:(e,{self:n,system:r,emit:i})=>{"done"!==e.status&&(e._subscription=t({input:e.input,system:r,self:n,emit:i}).subscribe({next:t=>{n._parent&&r._relay(n,n._parent,t)},error:t=>{r._relay(n,n,{type:a,data:t})},complete:()=>{r._relay(n,n,{type:c})}}))},getPersistedSnapshot:({_subscription:t,...e})=>e,restoreSnapshot:t=>({...t,_subscription:void 0})}}let f="xstate.promise.resolve",h="xstate.promise.reject",d=new WeakMap;function p(t){return{config:t,transition:(t,e,n)=>{if("active"!==t.status)return t;switch(e.type){case f:{let n=e.data;return{...t,status:"done",output:n,input:void 0}}case h:return{...t,status:"error",error:e.data,input:void 0};case o.X:return d.get(n.self)?.abort(),{...t,status:"stopped",input:void 0};default:return t}},start:(e,{self:n,system:r,emit:i})=>{if("active"!==e.status)return;let o=new AbortController;d.set(n,o),Promise.resolve(t({input:e.input,system:r,self:n,signal:o.signal,emit:i})).then(t=>{"active"===n.getSnapshot().status&&(d.delete(n),r._relay(n,n,{type:f,data:t}))},t=>{"active"===n.getSnapshot().status&&(d.delete(n),r._relay(n,n,{type:h,data:t}))})},getInitialSnapshot:(t,e)=>({status:"active",output:void 0,error:void 0,input:e}),getPersistedSnapshot:t=>t,restoreSnapshot:t=>t}}let y=(i=void 0,{config:r=t=>void 0,transition:(t,e,n)=>({...t,context:r(t.context,e,n)}),getInitialSnapshot:(t,e)=>({status:"active",output:void 0,error:void 0,context:"function"==typeof i?i({input:e}):i}),getPersistedSnapshot:t=>t,restoreSnapshot:t=>t});function v(){return(0,o.A)(y)}},66252:function(t,e,n){n.d(e,{a:function(){return s},b:function(){return g},c:function(){return p},e:function(){return c},s:function(){return y}});var r,i=n(53923);function o(t,e,n,r,{assignment:o}){if(!e.context)throw Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");let s={},u={context:e.context,event:n.event,spawn:function(t,{machine:e,context:n},r,o){let s=(s,u)=>{if("string"!=typeof s)return(0,i.A)(s,{id:u?.id,parent:t.self,syncSnapshot:u?.syncSnapshot,input:u?.input,src:s,systemId:u?.systemId});{let a=(0,i.z)(e,s);if(!a)throw Error(`Actor logic '${s}' not implemented in machine '${e.id}'`);let c=(0,i.A)(a,{id:u?.id,parent:t.self,syncSnapshot:u?.syncSnapshot,input:"function"==typeof u?.input?u.input({context:n,event:r,self:t.self}):u?.input,src:s,systemId:u?.systemId});return o[c.id]=c,c}};return(e,n)=>{let r=s(e,n);return o[r.id]=r,t.defer(()=>{r._processingStatus!==i.T.Stopped&&r.start()}),r}}(t,e,n.event,s),self:t.self,system:t.system},a={};if("function"==typeof o)a=o(u,r);else for(let t of Object.keys(o)){let e=o[t];a[t]="function"==typeof e?e(u,r):e}let c=Object.assign({},e.context,a);return[(0,i.U)(e,{context:c,children:Object.keys(s).length?{...e.children,...s}:e.children}),void 0,void 0]}function s(t){function e(t,e){}return e.type="xstate.assign",e.assignment=t,e.resolve=o,e}function u(t,e,n,r,{event:i}){return[e,{event:"function"==typeof i?i(n,r):i},void 0]}function a(t,{event:e}){t.defer(()=>t.emit(e))}function c(t){function e(t,e){}return e.type="xstate.emit",e.event=t,e.resolve=u,e.execute=a,e}let l=((r={}).Parent="#_parent",r.Internal="#_internal",r);function f(t,e,n,r,{to:i,event:o,id:s,delay:u},a){let c,f;let h=e.machine.implementations.delays;if("string"==typeof o)throw Error(`Only event objects may be used with sendTo; use sendTo({ type: "${o}" }) instead`);let d="function"==typeof o?o(n,r):o;if("string"==typeof u){let t=h&&h[u];c="function"==typeof t?t(n,r):t}else c="function"==typeof u?u(n,r):u;let p="function"==typeof i?i(n,r):i;if("string"==typeof p){if(!(f=p===l.Parent?t.self._parent:p===l.Internal?t.self:p.startsWith("#_")?e.children[p.slice(2)]:a.deferredActorIds?.includes(p)?p:e.children[p]))throw Error(`Unable to send event to actor '${p}' from machine '${e.machine.id}'.`)}else f=p||t.self;return[e,{to:f,targetId:"string"==typeof p?p:void 0,event:d,id:s,delay:c},void 0]}function h(t,e,n){"string"==typeof n.to&&(n.to=e.children[n.to])}function d(t,e){t.defer(()=>{let{to:n,event:r,delay:o,id:s}=e;if("number"==typeof o){t.system.scheduler.schedule(t.self,n,r,o,s);return}t.system._relay(t.self,n,r.type===i.V?(0,i.W)(t.self.id,r.data):r)})}function p(t,e,n){function r(t,e){}return r.type="xstate.sendTo",r.to=t,r.event=e,r.id=n?.id,r.delay=n?.delay,r.resolve=f,r.retryResolve=h,r.execute=d,r}function y(t,e){return p(l.Parent,t,e)}function v(t,e,n,r,{collect:o}){let u=[],a=function(t){u.push(t)};return a.assign=(...t)=>{u.push(s(...t))},a.cancel=(...t)=>{u.push((0,i.M)(...t))},a.raise=(...t)=>{u.push((0,i.O)(...t))},a.sendTo=(...t)=>{u.push(p(...t))},a.sendParent=(...t)=>{u.push(y(...t))},a.spawnChild=(...t)=>{u.push((0,i.P)(...t))},a.stopChild=(...t)=>{u.push((0,i.R)(...t))},a.emit=(...t)=>{u.push(c(...t))},o({context:n.context,event:n.event,enqueue:a,check:t=>(0,i.e)(t,e.context,n.event,e),self:t.self,system:t.system},r),[e,void 0,u]}function g(t){function e(t,e){}return e.type="xstate.enqueueActions",e.collect=t,e.resolve=v,e}},53923:function(t,e,n){var r;n.d(e,{$:function(){return R},A:function(){return q},D:function(){return G},E:function(){return V},G:function(){return J},L:function(){return S},M:function(){return F},N:function(){return u},O:function(){return tz},P:function(){return z},R:function(){return H},S:function(){return s},T:function(){return T},U:function(){return tD},V:function(){return c},W:function(){return h},X:function(){return l},a:function(){return x},b:function(){return tu},c:function(){return E},d:function(){return tc},e:function(){return W},f:function(){return ta},g:function(){return ts},h:function(){return to},i:function(){return tt},j:function(){return tv},k:function(){return tP},l:function(){return tr},m:function(){return m},n:function(){return tI},o:function(){return function t(e,n,r,i){return"string"==typeof n?function(t,e,n,r){let i=tp(t,e).next(n,r);return i&&i.length?i:t.next(n,r)}(e,n,r,i):1===Object.keys(n).length?function(e,n,r,i){let o=Object.keys(n),s=t(tp(e,o[0]),n[o[0]],r,i);return s&&s.length?s:e.next(r,i)}(e,n,r,i):function(e,n,r,i){let o=[];for(let s of Object.keys(n)){let u=n[s];if(!u)continue;let a=t(tp(e,s),u,r,i);a&&o.push(...a)}return o.length?o:e.next(r,i)}(e,n,r,i)}},p:function(){return tE},q:function(){return d},r:function(){return tj},s:function(){return tx},t:function(){return b},u:function(){return td},v:function(){return v},w:function(){return ti},x:function(){return ty},y:function(){return tF},z:function(){return I}});let i=t=>{if("undefined"==typeof window)return;let e=function(){let t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0;if(t.__xstate__)return t.__xstate__}();e&&e.register(t)};class o{constructor(t){this._process=t,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(t){let e={value:t,next:null};if(this._current){this._last.next=e,this._last=e;return}this._current=e,this._last=e,this._active&&this.flush()}flush(){for(;this._current;){let t=this._current;this._process(t.value),this._current=t.next}this._last=null}}let s=".",u="",a="xstate.init",c="xstate.error",l="xstate.stop";function f(t,e){return{type:`xstate.done.state.${t}`,output:e}}function h(t,e){return{type:`xstate.error.actor.${t}`,error:e,actorId:t}}function d(t){return{type:a,input:t}}function p(t){setTimeout(()=>{throw t})}let y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(t){if(_(t))return t;let e=[],n="";for(let r=0;r<t.length;r++){switch(t.charCodeAt(r)){case 92:n+=t[r+1],r++;continue;case 46:e.push(n),n="";continue}n+=t[r]}return e.push(n),e}function g(t){return t&&"object"==typeof t&&"machine"in t&&"value"in t?t.value:"string"!=typeof t?t:function(t){if(1===t.length)return t[0];let e={},n=e;for(let e=0;e<t.length-1;e++)if(e===t.length-2)n[t[e]]=t[e+1];else{let r=n;n={},r[t[e]]=n}return e}(v(t))}function m(t,e){let n={},r=Object.keys(t);for(let i=0;i<r.length;i++){let o=r[i];n[o]=e(t[o],o,t,i)}return n}function b(t){return void 0===t?[]:_(t)?t:[t]}function w(t,e,n,r){return"function"==typeof t?t({context:e,event:n,self:r}):t}function _(t){return Array.isArray(t)}function x(t){return(_(t)?t:[t]).map(t=>void 0===t||"string"==typeof t?{target:t}:t)}function C(t){if(void 0!==t&&""!==t)return b(t)}function S(t,e,n){let r="object"==typeof t,i=r?t:void 0;return{next:(r?t.next:t)?.bind(i),error:(r?t.error:e)?.bind(i),complete:(r?t.complete:n)?.bind(i)}}function E(t,e){return`${e}.${t}`}function I(t,e){let n=e.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!n)return t.implementations.actors[e];let[,r,i]=n,o=t.getStateNodeById(i).config.invoke;return(Array.isArray(o)?o[r]:o).src}function O(t,e){return`${t.sessionId}.${e}`}let $=0,j=!1,R=1,T=((r={})[r.NotStarted=0]="NotStarted",r[r.Running=1]="Running",r[r.Stopped=2]="Stopped",r),A={clock:{setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)},logger:console.log.bind(console),devTools:!1};class k{constructor(t,e){this.logic=t,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new o(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=T.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];let n={...A,...e},{clock:r,logger:i,parent:s,syncSnapshot:u,id:a,systemId:c,inspect:l}=n;this.system=s?s.system:function(t,e){let n=new Map,r=new Map,i=new WeakMap,o=new Set,s={},{clock:u,logger:a}=e,c={schedule:(t,e,n,r,i=Math.random().toString(36).slice(2))=>{let o={source:t,target:e,event:n,delay:r,id:i,startedAt:Date.now()},a=O(t,i);l._snapshot._scheduledEvents[a]=o;let c=u.setTimeout(()=>{delete s[a],delete l._snapshot._scheduledEvents[a],l._relay(t,e,n)},r);s[a]=c},cancel:(t,e)=>{let n=O(t,e),r=s[n];delete s[n],delete l._snapshot._scheduledEvents[n],void 0!==r&&u.clearTimeout(r)},cancelAll:t=>{for(let e in l._snapshot._scheduledEvents){let n=l._snapshot._scheduledEvents[e];n.source===t&&c.cancel(t,n.id)}}},l={_snapshot:{_scheduledEvents:(e?.snapshot&&e.snapshot.scheduler)??{}},_bookId:()=>`x:${$++}`,_register:(t,e)=>(n.set(t,e),t),_unregister:t=>{n.delete(t.sessionId);let e=i.get(t);void 0!==e&&(r.delete(e),i.delete(t))},get:t=>r.get(t),_set:(t,e)=>{let n=r.get(t);if(n&&n!==e)throw Error(`Actor with system ID '${t}' already exists.`);r.set(t,e),i.set(e,t)},inspect:t=>{let e=S(t);return o.add(e),{unsubscribe(){o.delete(e)}}},_sendInspectionEvent:e=>{if(!o.size)return;let n={...e,rootId:t.sessionId};o.forEach(t=>t.next?.(n))},_relay:(t,e,n)=>{l._sendInspectionEvent({type:"@xstate.event",sourceRef:t,actorRef:e,event:n}),e._send(n)},scheduler:c,getSnapshot:()=>({_scheduledEvents:{...l._snapshot._scheduledEvents}}),start:()=>{let t=l._snapshot._scheduledEvents;for(let e in l._snapshot._scheduledEvents={},t){let{source:n,target:r,event:i,delay:o,id:s}=t[e];c.schedule(n,r,i,o,s)}},_clock:u,_logger:a};return l}(this,{clock:r,logger:i}),l&&!s&&this.system.inspect(S(l)),this.sessionId=this.system._bookId(),this.id=a??this.sessionId,this.logger=e?.logger??this.system._logger,this.clock=e?.clock??this.system._clock,this._parent=s,this._syncSnapshot=u,this.options=n,this.src=n.src??t,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:t=>{this._deferred.push(t)},system:this.system,stopChild:t=>{if(t._parent!==this)throw Error(`Cannot stop child actor ${t.id} of ${this.id} because it is not a child`);t._stop()},emit:t=>{let e=this.eventListeners.get(t.type),n=this.eventListeners.get("*");if(e||n)for(let r of[...e?e.values():[],...n?n.values():[]])r(t)},actionExecutor:t=>{let e=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:t.type,params:t.params}}),!t.exec)return;let e=j;try{j=!0,t.exec(t.info,t.params)}finally{j=e}};this._processingStatus===T.Running?e():this._deferred.push(e)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),c&&(this._systemId=c,this.system._set(c,this)),this._initState(e?.snapshot??e?.state),c&&"active"!==this._snapshot.status&&this.system._unregister(this)}_initState(t){try{this._snapshot=t?this.logic.restoreSnapshot?this.logic.restoreSnapshot(t,this._actorScope):t:this.logic.getInitialSnapshot(this._actorScope,this.options?.input)}catch(t){this._snapshot={status:"error",output:void 0,error:t}}}update(t,e){let n;for(this._snapshot=t;n=this._deferred.shift();)try{n()}catch(e){this._deferred.length=0,this._snapshot={...t,status:"error",error:e}}switch(this._snapshot.status){case"active":for(let e of this.observers)try{e.next?.(t)}catch(t){p(t)}break;case"done":var r;for(let e of this.observers)try{e.next?.(t)}catch(t){p(t)}this._stopProcedure(),this._complete(),this._doneEvent=(r=this.id,{type:`xstate.done.actor.${r}`,output:this._snapshot.output,actorId:r}),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error)}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:e,snapshot:t})}subscribe(t,e,n){let r=S(t,e,n);if(this._processingStatus!==T.Stopped)this.observers.add(r);else switch(this._snapshot.status){case"done":try{r.complete?.()}catch(t){p(t)}break;case"error":{let t=this._snapshot.error;if(r.error)try{r.error(t)}catch(t){p(t)}else p(t)}}return{unsubscribe:()=>{this.observers.delete(r)}}}on(t,e){let n=this.eventListeners.get(t);n||(n=new Set,this.eventListeners.set(t,n));let r=e.bind(void 0);return n.add(r),{unsubscribe:()=>{n.delete(r)}}}start(){if(this._processingStatus===T.Running)return this;this._syncSnapshot&&this.subscribe({next:t=>{"active"===t.status&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:t})},error:()=>{}}),this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this._processingStatus=T.Running;let t=d(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:t}),this._snapshot.status){case"done":return this.update(this._snapshot,t),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(t){return this._snapshot={...this._snapshot,status:"error",error:t},this._error(t),this}return this.update(this._snapshot,t),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(t){let e,n;try{e=this.logic.transition(this._snapshot,t,this._actorScope)}catch(t){n={err:t}}if(n){let{err:t}=n;this._snapshot={...this._snapshot,status:"error",error:t},this._error(t);return}this.update(e,t),t.type===l&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===T.Stopped||((this.mailbox.clear(),this._processingStatus===T.NotStarted)?this._processingStatus=T.Stopped:this.mailbox.enqueue({type:l})),this}stop(){if(this._parent)throw Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){for(let t of this.observers)try{t.complete?.()}catch(t){p(t)}this.observers.clear()}_reportError(t){if(!this.observers.size){this._parent||p(t);return}let e=!1;for(let n of this.observers){let r=n.error;e||=!r;try{r?.(t)}catch(t){p(t)}}this.observers.clear(),e&&p(t)}_error(t){this._stopProcedure(),this._reportError(t),this._parent&&this.system._relay(this,this._parent,h(this.id,t))}_stopProcedure(){return this._processingStatus!==T.Running||(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new o(this._process.bind(this)),this._processingStatus=T.Stopped,this.system._unregister(this)),this}_send(t){this._processingStatus!==T.Stopped&&this.mailbox.enqueue(t)}send(t){this.system._relay(void 0,this,t)}attachDevTools(){let{devTools:t}=this.options;t&&("function"==typeof t?t:i)(this)}toJSON(){return{xstate$$type:R,id:this.id}}getPersistedSnapshot(t){return this.logic.getPersistedSnapshot(this._snapshot,t)}[y](){return this}getSnapshot(){return this._snapshot}}function q(t,...[e]){return new k(t,e)}function P(t,e,n,r,{sendId:i}){return[e,{sendId:"function"==typeof i?i(n,r):i},void 0]}function D(t,e){t.defer(()=>{t.system.scheduler.cancel(t.self,e.sendId)})}function F(t){function e(t,e){}return e.type="xstate.cancel",e.sendId=t,e.resolve=P,e.execute=D,e}function N(t,e,n,r,{id:i,systemId:o,src:s,input:u,syncSnapshot:a}){let c,l;let f="string"==typeof s?I(e.machine,s):s,h="function"==typeof i?i(n):i;return f&&(l="function"==typeof u?u({context:e.context,event:n.event,self:t.self}):u,c=q(f,{id:h,src:s,parent:t.self,syncSnapshot:a,systemId:o,input:l})),[tD(e,{children:{...e.children,[h]:c}}),{id:i,systemId:o,actorRef:c,src:s,input:l},void 0]}function M(t,{actorRef:e}){e&&t.defer(()=>{e._processingStatus!==T.Stopped&&e.start()})}function z(...[t,{id:e,systemId:n,input:r,syncSnapshot:i=!1}={}]){function o(t,e){}return o.type="xstate.spawnChild",o.id=e,o.systemId=n,o.src=t,o.input=r,o.syncSnapshot=i,o.resolve=N,o.execute=M,o}function U(t,e,n,r,{actorRef:i}){let o="function"==typeof i?i(n,r):i,s="string"==typeof o?e.children[o]:o,u=e.children;return s&&(u={...u},delete u[s.id]),[tD(e,{children:u}),s,void 0]}function L(t,e){if(e){if(t.system._unregister(e),e._processingStatus!==T.Running){t.stopChild(e);return}t.defer(()=>{t.stopChild(e)})}}function H(t){function e(t,e){}return e.type="xstate.stopChild",e.actorRef=t,e.resolve=U,e.execute=L,e}function B(t,e,{stateValue:n}){if("string"==typeof n&&ti(n)){let e=t.machine.getStateNodeById(n);return t._nodes.some(t=>t===e)}return t.matches(n)}function J(t){function e(){return!1}return e.check=B,e.stateValue=t,e}function X(t,{context:e,event:n},{guards:r}){return!W(r[0],e,n,t)}function V(t){function e(t,e){return!1}return e.check=X,e.guards=[t],e}function Z(t,{context:e,event:n},{guards:r}){return r.every(r=>W(r,e,n,t))}function G(t){function e(t,e){return!1}return e.check=Z,e.guards=t,e}function W(t,e,n,r){let{machine:i}=r,o="function"==typeof t,s=o?t:i.implementations.guards["string"==typeof t?t:t.type];if(!o&&!s)throw Error(`Guard '${"string"==typeof t?t:t.type}' is not implemented.'.`);if("function"!=typeof s)return W(s,e,n,r);let u={context:e,event:n},a=o||"string"==typeof t?void 0:"params"in t?"function"==typeof t.params?t.params({context:e,event:n}):t.params:void 0;return"check"in s?s.check(r,u,s):s(u,a)}let K=t=>"atomic"===t.type||"final"===t.type;function Q(t){return Object.values(t.states).filter(t=>"history"!==t.type)}function Y(t,e){let n=[];if(e===t)return n;let r=t.parent;for(;r&&r!==e;)n.push(r),r=r.parent;return n}function tt(t){let e=new Set(t),n=te(e);for(let t of e)if("compound"!==t.type||n.get(t)&&n.get(t).length){if("parallel"===t.type){for(let n of Q(t))if("history"!==n.type&&!e.has(n))for(let t of th(n))e.add(t)}}else th(t).forEach(t=>e.add(t));for(let t of e){let n=t.parent;for(;n;)e.add(n),n=n.parent}return e}function te(t){let e=new Map;for(let n of t)e.has(n)||e.set(n,[]),n.parent&&(e.has(n.parent)||e.set(n.parent,[]),e.get(n.parent).push(n));return e}function tn(t,e){return function t(e,n){let r=n.get(e);if(!r)return{};if("compound"===e.type){let t=r[0];if(!t)return{};if(K(t))return t.key}let i={};for(let e of r)i[e.key]=t(e,n);return i}(t,te(tt(e)))}function tr(t,e){return"compound"===e.type?Q(e).some(e=>"final"===e.type&&t.has(e)):"parallel"===e.type?Q(e).every(e=>tr(t,e)):"final"===e.type}let ti=t=>"#"===t[0];function to(t,e){return t.transitions.get(e)||[...t.transitions.keys()].filter(t=>{if("*"===t)return!0;if(!t.endsWith(".*"))return!1;let n=t.split("."),r=e.split(".");for(let t=0;t<n.length;t++){let e=n[t],i=r[t];if("*"===e)return t===n.length-1;if(e!==i)return!1}return!0}).sort((t,e)=>e.length-t.length).flatMap(e=>t.transitions.get(e))}function ts(t){let e=t.config.after;if(!e)return[];let n=e=>{var n;let r=(n=t.id,{type:`xstate.after.${e}.${n}`}),i=r.type;return t.entry.push(tz(r,{id:i,delay:e})),t.exit.push(F(i)),i};return Object.keys(e).flatMap(t=>{let r=e[t],i=Number.isNaN(+t)?t:+t,o=n(i);return b("string"==typeof r?{target:r}:r).map(t=>({...t,event:o,delay:i}))}).map(e=>{let{delay:n}=e;return{...tu(t,e.event,e),delay:n}})}function tu(t,e,n){let r=C(n.target),i=n.reenter??!1,o=function(t,e){if(void 0!==e)return e.map(e=>{if("string"!=typeof e)return e;if(ti(e))return t.machine.getStateNodeById(e);let n=e[0]===s;if(n&&!t.parent)return ty(t,e.slice(1));let r=n?t.key+e:e;if(t.parent)try{return ty(t.parent,r)}catch(e){throw Error(`Invalid transition definition for state node '${t.id}':
${e.message}`)}else throw Error(`Invalid target: "${e}" is not a valid target from the root node. Did you mean ".${e}"?`)})}(t,r),u={...n,actions:b(n.actions),guard:n.guard,target:o,source:t,reenter:i,eventType:e,toJSON:()=>({...u,source:`#${t.id}`,target:o?o.map(t=>`#${t.id}`):void 0})};return u}function ta(t){let e=new Map;if(t.config.on)for(let n of Object.keys(t.config.on)){if(n===u)throw Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');let r=t.config.on[n];e.set(n,x(r).map(e=>tu(t,n,e)))}if(t.config.onDone){let n=`xstate.done.state.${t.id}`;e.set(n,x(t.config.onDone).map(e=>tu(t,n,e)))}for(let n of t.invoke){if(n.onDone){let r=`xstate.done.actor.${n.id}`;e.set(r,x(n.onDone).map(e=>tu(t,r,e)))}if(n.onError){let r=`xstate.error.actor.${n.id}`;e.set(r,x(n.onError).map(e=>tu(t,r,e)))}if(n.onSnapshot){let r=`xstate.snapshot.${n.id}`;e.set(r,x(n.onSnapshot).map(e=>tu(t,r,e)))}}for(let n of t.after){let t=e.get(n.eventType);t||(t=[],e.set(n.eventType,t)),t.push(n)}return e}function tc(t,e){let n="string"==typeof e?t.states[e]:e?t.states[e.target]:void 0;if(!n&&e)throw Error(`Initial state node "${e}" not found on parent state node #${t.id}`);let r={source:t,actions:e&&"string"!=typeof e?b(e.actions):[],eventType:null,reenter:!1,target:n?[n]:[],toJSON:()=>({...r,source:`#${t.id}`,target:n?[`#${n.id}`]:[]})};return r}function tl(t){let e=C(t.config.target);return e?{target:e.map(e=>"string"==typeof e?ty(t.parent,e):e)}:t.parent.initial}function tf(t){return"history"===t.type}function th(t){let e=td(t);for(let n of e)for(let r of Y(n,t))e.add(r);return e}function td(t){let e=new Set;return!function t(n){if(!e.has(n)){if(e.add(n),"compound"===n.type)t(n.initial.target[0]);else if("parallel"===n.type)for(let e of Q(n))t(e)}}(t),e}function tp(t,e){if(ti(e))return t.machine.getStateNodeById(e);if(!t.states)throw Error(`Unable to retrieve child state '${e}' from '${t.id}'; no child states exist.`);let n=t.states[e];if(!n)throw Error(`Child state '${e}' does not exist on '${t.id}'`);return n}function ty(t,e){if("string"==typeof e&&ti(e))try{return t.machine.getStateNodeById(e)}catch{}let n=v(e).slice(),r=t;for(;n.length;){let t=n.shift();if(!t.length)break;r=tp(r,t)}return r}function tv(t,e){if("string"==typeof e){let n=t.states[e];if(!n)throw Error(`State '${e}' does not exist on '${t.id}'`);return[t,n]}let n=Object.keys(e),r=n.map(e=>tp(t,e)).filter(Boolean);return[t.machine.root,t].concat(r,n.reduce((n,r)=>{let i=tp(t,r);if(!i)return n;let o=tv(i,e[r]);return n.concat(o)},[]))}function tg(t,e){let n=t;for(;n.parent&&n.parent!==e;)n=n.parent;return n.parent===e}function tm(t,e,n){let r=new Set;for(let i of t){let t=!1,o=new Set;for(let s of r)if(function(t,e){let n=new Set(t),r=new Set(e);for(let t of n)if(r.has(t))return!0;for(let t of r)if(n.has(t))return!0;return!1}(t_([i],e,n),t_([s],e,n))){if(tg(i.source,s.source))o.add(s);else{t=!0;break}}if(!t){for(let t of o)r.delete(t);r.add(i)}}return Array.from(r)}function tb(t,e){if(!t.target)return[];let n=new Set;for(let r of t.target)if(tf(r)){if(e[r.id])for(let t of e[r.id])n.add(t);else for(let t of tb(tl(r),e))n.add(t)}else n.add(r);return[...n]}function tw(t,e){let n=tb(t,e);if(!n)return;if(!t.reenter&&n.every(e=>e===t.source||tg(e,t.source)))return t.source;let r=function(t){let[e,...n]=t;for(let t of Y(e,void 0))if(n.every(e=>tg(e,t)))return t}(n.concat(t.source));return r||(t.reenter?void 0:t.source.machine.root)}function t_(t,e,n){let r=new Set;for(let i of t)if(i.target?.length){let t=tw(i,n);for(let n of(i.reenter&&i.source===t&&r.add(t),e))tg(n,t)&&r.add(n)}return[...r]}function tx(t,e,n,r,i,o){if(!t.length)return e;let s=new Set(e._nodes),u=e.historyValue,a=tm(t,s,u),c=e;i||([c,u]=function(t,e,n,r,i,o,s,u){let a,c=t,l=t_(r,i,o);for(let t of(l.sort((t,e)=>e.order-t.order),l))for(let e of function(t){return Object.keys(t.states).map(e=>t.states[e]).filter(t=>"history"===t.type)}(t)){let n;n="deep"===e.history?e=>K(e)&&tg(e,t):e=>e.parent===t,(a??={...o})[e.id]=Array.from(i).filter(n)}for(let t of l)c=tE(c,e,n,[...t.exit,...t.invoke.map(t=>H(t.id))],s,void 0),i.delete(t);return[c,a||o]}(c,r,n,a,s,u,o,n.actionExecutor)),c=function(t,e,n,r,i,o,s,u){let a=t,c=new Set,l=new Set;(function(t,e,n,r){for(let i of t){let t=tw(i,e);for(let o of i.target||[])!tf(o)&&(i.source!==o||i.source!==t||i.reenter)&&(r.add(o),n.add(o)),tC(o,e,n,r);for(let o of tb(i,e)){let s=Y(o,t);t?.type==="parallel"&&s.push(t),tS(r,e,n,s,!i.source.parent&&i.reenter?void 0:t)}}})(r,s,l,c),u&&l.add(t.machine.root);let h=new Set;for(let t of[...c].sort((t,e)=>t.order-e.order)){i.add(t);let r=[];for(let e of(r.push(...t.entry),t.invoke))r.push(z(e.src,{...e,syncSnapshot:!!e.onSnapshot}));if(l.has(t)){let e=t.initial.actions;r.push(...e)}if(a=tE(a,e,n,r,o,t.invoke.map(t=>t.id)),"final"===t.type){let r=t.parent,s=r?.type==="parallel"?r:r?.parent,u=s||t;for(r?.type==="compound"&&o.push(f(r.id,void 0!==t.output?w(t.output,a.context,e,n.self):void 0));s?.type==="parallel"&&!h.has(s)&&tr(i,s);)h.add(s),o.push(f(s.id)),u=s,s=s.parent;if(s)continue;a=tD(a,{status:"done",output:function(t,e,n,r,i){if(void 0===r.output)return;let o=f(i.id,void 0!==i.output&&i.parent?w(i.output,t.context,e,n.self):void 0);return w(r.output,t.context,o,n.self)}(a,e,n,a.machine.root,u)})}}return a}(c=tE(c,r,n,a.flatMap(t=>t.actions),o,void 0),r,n,a,s,o,u,i);let l=[...s];"done"===c.status&&(c=tE(c,r,n,l.sort((t,e)=>e.order-t.order).flatMap(t=>t.exit),o,void 0));try{if(u===e.historyValue&&function(t,e){if(t.length!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}(e._nodes,s))return c;return tD(c,{_nodes:l,historyValue:u})}catch(t){throw t}}function tC(t,e,n,r){if(tf(t)){if(e[t.id]){let i=e[t.id];for(let t of i)r.add(t),tC(t,e,n,r);for(let o of i)tS(r,e,n,Y(o,t.parent))}else{let i=tl(t);for(let o of i.target)r.add(o),i===t.parent?.initial&&n.add(t.parent),tC(o,e,n,r);for(let o of i.target)tS(r,e,n,Y(o,t.parent))}}else if("compound"===t.type){let[i]=t.initial.target;tf(i)||(r.add(i),n.add(i)),tC(i,e,n,r),tS(r,e,n,Y(i,t))}else if("parallel"===t.type)for(let i of Q(t).filter(t=>!tf(t)))[...r].some(t=>tg(t,i))||(tf(i)||(r.add(i),n.add(i)),tC(i,e,n,r))}function tS(t,e,n,r,i){for(let o of r)if((!i||tg(o,i))&&t.add(o),"parallel"===o.type)for(let r of Q(o).filter(t=>!tf(t)))[...t].some(t=>tg(t,r))||(t.add(r),tC(r,e,n,t))}function tE(t,e,n,r,i,o){let s=o?[]:void 0,u=function t(e,n,r,i,o,s){let{machine:u}=e,a=e;for(let e of i){var c;let i="function"==typeof e,l=i?e:(c="string"==typeof e?e:e.type,u.implementations.actions[c]),f={context:a.context,event:n,self:r.self,system:r.system},h=i||"string"==typeof e?void 0:"params"in e?"function"==typeof e.params?e.params({context:a.context,event:n}):e.params:void 0;if(!l||!("resolve"in l)){r.actionExecutor({type:"string"==typeof e?e:"object"==typeof e?e.type:e.name||"(anonymous)",info:f,params:h,exec:l});continue}let[d,p,y]=l.resolve(r,a,f,h,l,o);a=d,"retryResolve"in l&&s?.push([l,p]),"execute"in l&&r.actionExecutor({type:l.type,info:f,params:p,exec:l.execute.bind(null,r,p)}),y&&(a=t(a,n,r,y,o,s))}return a}(t,e,n,r,{internalQueue:i,deferredActorIds:o},s);return s?.forEach(([t,e])=>{t.retryResolve(n,u,e)}),u}function tI(t,e,n,r){let i=t,o=[];function s(t,e,r){n.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:n.self,event:e,snapshot:t,_transitions:r}),o.push(t)}if(e.type===l)return s(i=tD(tO(i,e,n),{status:"stopped"}),e,[]),{snapshot:i,microstates:o};let u=e;if(u.type!==a){let e=u,a=e.type.startsWith("xstate.error.actor"),c=t$(e,i);if(a&&!c.length)return s(i=tD(t,{status:"error",error:e.error}),e,[]),{snapshot:i,microstates:o};s(i=tx(c,t,n,u,!1,r),e,c)}let c=!0;for(;"active"===i.status;){let t=c?function(t,e){let n=new Set;for(let r of t._nodes.filter(K))t:for(let i of[r].concat(Y(r,void 0)))if(i.always){for(let r of i.always)if(void 0===r.guard||W(r.guard,t.context,e,t)){n.add(r);break t}}return tm(Array.from(n),new Set(t._nodes),t.historyValue)}(i,u):[],e=t.length?i:void 0;if(!t.length){if(!r.length)break;t=t$(u=r.shift(),i)}c=(i=tx(t,i,n,u,!1,r))!==e,s(i,u,t)}return"active"!==i.status&&tO(i,u,n),{snapshot:i,microstates:o}}function tO(t,e,n){return tE(t,e,n,Object.values(t.children).map(t=>H(t)),[],void 0)}function t$(t,e){return e.machine.getTransitionData(e,t)}function tj(t,e){let n=tt(tv(t,e));return tn(t,[...n])}let tR=function(t){return function t(e,n){let r=g(e),i=g(n);return"string"==typeof i?"string"==typeof r&&i===r:"string"==typeof r?r in i:Object.keys(r).every(e=>e in i&&t(r[e],i[e]))}(t,this.value)},tT=function(t){return this.tags.has(t)},tA=function(t){let e=this.machine.getTransitionData(this,t);return!!e?.length&&e.some(t=>void 0!==t.target||t.actions.length)},tk=function(){let{_nodes:t,tags:e,machine:n,getMeta:r,toJSON:i,can:o,hasTag:s,matches:u,...a}=this;return{...a,tags:Array.from(e)}},tq=function(){return this._nodes.reduce((t,e)=>(void 0!==e.meta&&(t[e.id]=e.meta),t),{})};function tP(t,e){return{status:t.status,output:t.output,error:t.error,machine:e,context:t.context,_nodes:t._nodes,value:tn(e.root,t._nodes),tags:new Set(t._nodes.flatMap(t=>t.tags)),children:t.children,historyValue:t.historyValue||{},matches:tR,hasTag:tT,can:tA,getMeta:tq,toJSON:tk}}function tD(t,e={}){return tP({...t,...e},t.machine)}function tF(t,e){let{_nodes:n,tags:r,machine:i,children:o,context:s,can:u,hasTag:a,matches:c,getMeta:l,toJSON:f,...h}=t,d={};for(let t in o){let n=o[t];d[t]={snapshot:n.getPersistedSnapshot(e),src:n.src,systemId:n._systemId,syncSnapshot:n._syncSnapshot}}return{...h,context:function t(e){let n;for(let r in e){let i=e[r];if(i&&"object"==typeof i){if("sessionId"in i&&"send"in i&&"ref"in i)(n??=Array.isArray(e)?e.slice():{...e})[r]={xstate$$type:R,id:i.id};else{let o=t(i);o!==i&&((n??=Array.isArray(e)?e.slice():{...e})[r]=o)}}}return n??e}(s),children:d}}function tN(t,e,n,r,{event:i,id:o,delay:s},{internalQueue:u}){let a;let c=e.machine.implementations.delays;if("string"==typeof i)throw Error(`Only event objects may be used with raise; use raise({ type: "${i}" }) instead`);let l="function"==typeof i?i(n,r):i;if("string"==typeof s){let t=c&&c[s];a="function"==typeof t?t(n,r):t}else a="function"==typeof s?s(n,r):s;return"number"!=typeof a&&u.push(l),[e,{event:l,id:o,delay:a},void 0]}function tM(t,e){let{event:n,delay:r,id:i}=e;if("number"==typeof r){t.defer(()=>{let e=t.self;t.system.scheduler.schedule(e,e,n,r,i)});return}}function tz(t,e){function n(t,e){}return n.type="xstate.raise",n.event=t,n.id=e?.id,n.delay=e?.delay,n.resolve=tN,n.execute=tM,n}},11358:function(t,e,n){n.d(e,{ZD:function(){return o},cY:function(){return h}}),n(74188);var r=n(53923),i=n(66252);function o(t,e){let n=(0,r.t)(e);if(!n.includes(t.type)){let e=1===n.length?`type "${n[0]}"`:`one of types "${n.join('", "')}"`;throw Error(`Expected event ${JSON.stringify(t)} to have ${e}`)}}let s=new WeakMap;function u(t,e,n){let r=s.get(t);return r?e in r||(r[e]=n()):(r={[e]:n()},s.set(t,r)),r[e]}let a={},c=t=>"string"==typeof t?{type:t}:"function"==typeof t?"resolve"in t?{type:t.type}:{type:t.name}:t;class l{constructor(t,e){if(this.config=t,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=e._parent,this.key=e._key,this.machine=e._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(r.S),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?(0,r.m)(this.config.states,(t,e)=>new l(t,{_parent:this,_key:e,_machine:this.machine})):a,"compound"===this.type&&!this.config.initial)throw Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=!0===this.config.history?"shallow":this.config.history||!1,this.entry=(0,r.t)(this.config.entry).slice(),this.exit=(0,r.t)(this.config.exit).slice(),this.meta=this.config.meta,this.output="final"!==this.type&&this.parent?void 0:this.config.output,this.tags=(0,r.t)(t.tags).slice()}_initialize(){this.transitions=(0,r.f)(this),this.config.always&&(this.always=(0,r.a)(this.config.always).map(t=>(0,r.b)(this,r.N,t))),Object.keys(this.states).forEach(t=>{this.states[t]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(c),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(t=>`#${t.id}`),source:`#${this.id}`,actions:this.initial.actions.map(c),eventType:null})}:void 0,history:this.history,states:(0,r.m)(this.states,t=>t.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(t=>({...t,actions:t.actions.map(c)})),entry:this.entry.map(c),exit:this.exit.map(c),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return u(this,"invoke",()=>(0,r.t)(this.config.invoke).map((t,e)=>{let{src:n,systemId:i}=t,o=t.id??(0,r.c)(this.id,e),s="string"==typeof n?n:`xstate.invoke.${(0,r.c)(this.id,e)}`;return{...t,src:s,id:o,systemId:i,toJSON(){let{onDone:e,onError:n,...r}=t;return{...r,type:"xstate.invoke",src:s,id:o}}}}))}get on(){return u(this,"on",()=>[...this.transitions].flatMap(([t,e])=>e.map(e=>[t,e])).reduce((t,[e,n])=>(t[e]=t[e]||[],t[e].push(n),t),{}))}get after(){return u(this,"delayedTransitions",()=>(0,r.g)(this))}get initial(){return u(this,"initial",()=>(0,r.d)(this,this.config.initial))}next(t,e){let n;let i=e.type,o=[];for(let s of u(this,`candidates-${i}`,()=>(0,r.h)(this,i))){let{guard:u}=s,a=t.context,c=!1;try{c=!u||(0,r.e)(u,a,e,t)}catch(e){let t="string"==typeof u?u:"object"==typeof u?u.type:void 0;throw Error(`Unable to evaluate guard ${t?`'${t}' `:""}in transition for event '${i}' in state node '${this.id}':
${e.message}`)}if(c){o.push(...s.actions),n=s;break}}return n?[n]:void 0}get events(){return u(this,"events",()=>{let{states:t}=this,e=new Set(this.ownEvents);if(t)for(let n of Object.keys(t)){let r=t[n];if(r.states)for(let t of r.events)e.add(`${t}`)}return Array.from(e)})}get ownEvents(){return Array.from(new Set([...this.transitions.keys()].filter(t=>this.transitions.get(t).some(t=>!(!t.target&&!t.actions.length&&!t.reenter)))))}}class f{constructor(t,e){this.config=t,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=t.id||"(machine)",this.implementations={actors:e?.actors??{},actions:e?.actions??{},delays:e?.delays??{},guards:e?.guards??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new l(t,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(t){let{actions:e,guards:n,actors:r,delays:i}=this.implementations;return new f(this.config,{actions:{...e,...t.actions},guards:{...n,...t.guards},actors:{...r,...t.actors},delays:{...i,...t.delays}})}resolveState(t){let e=(0,r.r)(this.root,t.value),n=(0,r.i)((0,r.j)(this.root,e));return(0,r.k)({_nodes:[...n],context:t.context||{},children:{},status:(0,r.l)(n,this.root)?"done":t.status||"active",output:t.output,error:t.error,historyValue:t.historyValue},this)}transition(t,e,n){return(0,r.n)(t,e,n,[]).snapshot}microstep(t,e,n){return(0,r.n)(t,e,n,[]).microstates}getTransitionData(t,e){return(0,r.o)(this.root,t.value,t,e)||[]}getPreInitialState(t,e,n){let{context:o}=this.config,s=(0,r.k)({context:"function"!=typeof o&&o?o:{},_nodes:[this.root],children:{},status:"active"},this);return"function"==typeof o?(0,r.p)(s,e,t,[(0,i.a)(({spawn:t,event:e,self:n})=>o({spawn:t,input:e.input,self:n}))],n,void 0):s}getInitialSnapshot(t,e){let n=(0,r.q)(e),i=[],o=this.getPreInitialState(t,n,i),s=(0,r.s)([{target:[...(0,r.u)(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],o,t,n,!0,i),{snapshot:u}=(0,r.n)(s,n,t,i);return u}start(t){Object.values(t.children).forEach(t=>{"active"===t.getSnapshot().status&&t.start()})}getStateNodeById(t){let e=(0,r.v)(t),n=e.slice(1),i=(0,r.w)(e[0])?e[0].slice(1):e[0],o=this.idMap.get(i);if(!o)throw Error(`Child state node '#${i}' does not exist on machine '${this.id}'`);return(0,r.x)(o,n)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(t,e){return(0,r.y)(t,e)}restoreSnapshot(t,e){let n={},i=t.children;Object.keys(i).forEach(t=>{let o=i[t],s=o.snapshot,u=o.src,a="string"==typeof u?(0,r.z)(this,u):u;if(!a)return;let c=(0,r.A)(a,{id:t,parent:e.self,syncSnapshot:o.syncSnapshot,snapshot:s,src:u,systemId:o.systemId});n[t]=c});let o=(0,r.k)({...t,children:n,_nodes:Array.from((0,r.i)((0,r.j)(this.root,t.value)))},this),s=new Set;return!function t(e,n){if(!s.has(e))for(let i in s.add(e),e){let o=e[i];if(o&&"object"==typeof o){if("xstate$$type"in o&&o.xstate$$type===r.$){e[i]=n[o.id];continue}t(o,n)}}}(o.context,n),o}}function h({schemas:t,actors:e,actions:n,guards:r,delays:i}){return{createMachine:o=>new f({...o,schemas:t},{actors:e,actions:n,guards:r,delays:i})}}},57442:function(t,e,n){n.d(e,{C:function(){return s},N:function(){return c}});var r={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},i={0:8203,1:8204,2:8205,3:65279},o=[,,,,].fill(String.fromCodePoint(i[0])).join("");function s(t,e,n="auto"){let r;return!0===n||"auto"===n&&(!(!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t))&&Date.parse(t)||function(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(t))?t:`${t}${r=JSON.stringify(e),`${o}${Array.from(r).map(t=>{let e=t.charCodeAt(0);if(e>255)throw Error(`Only ASCII edit info can be encoded. Error attempting to encode ${r} on character ${t} (${e})`);return Array.from(e.toString(4).padStart(4,"0")).map(t=>String.fromCodePoint(i[t])).join("")}).join("")}`}`}Object.fromEntries(Object.entries(i).map(t=>t.reverse())),Object.fromEntries(Object.entries(r).map(t=>t.reverse()));var u=`${Object.values(r).map(t=>`\\u{${t.toString(16)}}`).join("")}`,a=RegExp(`[${u}]{4,}`,"gu");function c(t){var e,n;return t&&JSON.parse({cleaned:(e=JSON.stringify(t)).replace(a,""),encoded:(null==(n=e.match(a))?void 0:n[0])||""}.cleaned)}},45690:function(t,e,n){n.d(e,{Ap:function(){return tm},eI:function(){return eH},U4:function(){return tJ}});let r=!(typeof navigator>"u")&&"ReactNative"===navigator.product,i={timeout:r?6e4:12e4},o=function(t){let e={...i,..."string"==typeof t?{url:t}:t};if(e.timeout=function t(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;let n=Number(e);return isNaN(n)?t(i.timeout):{connect:n,socket:n}}(e.timeout),e.query){let{url:t,searchParams:n}=function(t){let e=t.indexOf("?");if(-1===e)return{url:t,searchParams:new URLSearchParams};let n=t.slice(0,e),i=t.slice(e+1);if(!r)return{url:n,searchParams:new URLSearchParams(i)};if("function"!=typeof decodeURIComponent)throw Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");let o=new URLSearchParams;for(let t of i.split("&")){let[e,n]=t.split("=");e&&o.append(s(e),s(n||""))}return{url:n,searchParams:o}}(e.url);for(let[r,i]of Object.entries(e.query)){if(void 0!==i){if(Array.isArray(i))for(let t of i)n.append(r,t);else n.append(r,i)}let o=n.toString();o&&(e.url=`${t}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function s(t){return decodeURIComponent(t.replace(/\+/g," "))}let u=/^https?:\/\//i,a=function(t){if(!u.test(t.url))throw Error(`"${t.url}" is not a valid URL`)},c=["request","response","progress","error","abort"],l=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];var f,h,d,p,y=(f=function(){if(p)return d;p=1;var t=function(t){return t.replace(/^\s+|\s+$/g,"")};return d=function(e){if(!e)return{};for(var n,r={},i=t(e).split("\n"),o=0;o<i.length;o++){var s=i[o],u=s.indexOf(":"),a=t(s.slice(0,u)).toLowerCase(),c=t(s.slice(u+1));typeof r[a]>"u"?r[a]=c:(n=r[a],"[object Array]"===Object.prototype.toString.call(n)?r[a].push(c):r[a]=[r[a],c])}return r}}())&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;class v{onabort;onerror;onreadystatechange;ontimeout;readyState=0;response;responseText="";responseType="";status;statusText;withCredentials;#t;#e;#n;#r={};#i;#o={};#s;open(t,e,n){this.#t=t,this.#e=e,this.#n="",this.readyState=1,this.onreadystatechange?.(),this.#i=void 0}abort(){this.#i&&this.#i.abort()}getAllResponseHeaders(){return this.#n}setRequestHeader(t,e){this.#r[t]=e}setInit(t,e=!0){this.#o=t,this.#s=e}send(t){let e="arraybuffer"!==this.responseType,n={...this.#o,method:this.#t,headers:this.#r,body:t};"function"==typeof AbortController&&this.#s&&(this.#i=new AbortController,"u">typeof EventTarget&&this.#i.signal instanceof EventTarget&&(n.signal=this.#i.signal)),"u">typeof document&&(n.credentials=this.withCredentials?"include":"omit"),fetch(this.#e,n).then(t=>(t.headers.forEach((t,e)=>{this.#n+=`${e}: ${t}\r
`}),this.status=t.status,this.statusText=t.statusText,this.readyState=3,this.onreadystatechange?.(),e?t.text():t.arrayBuffer())).then(t=>{"string"==typeof t?this.responseText=t:this.response=t,this.readyState=4,this.onreadystatechange?.()}).catch(t=>{"AbortError"!==t.name?this.onerror?.(t):this.onabort?.()})}}let g="function"==typeof XMLHttpRequest?"xhr":"fetch",m="xhr"===g?XMLHttpRequest:v,b=(t,e)=>{let n=t.options,r=t.applyMiddleware("finalizeOptions",n),i={},o=t.applyMiddleware("interceptRequest",void 0,{adapter:g,context:t});if(o){let t=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(t)}}let s=new m;s instanceof v&&"object"==typeof r.fetch&&s.setInit(r.fetch,r.useAbortSignal??!0);let u=r.headers,a=r.timeout,c=!1,l=!1,f=!1;if(s.onerror=t=>{p(s instanceof v?t instanceof Error?t:Error(`Request error while attempting to reach is ${r.url}`,{cause:t}):Error(`Request error while attempting to reach is ${r.url}${t.lengthComputable?`(${t.loaded} of ${t.total} bytes transferred)`:""}`))},s.ontimeout=t=>{p(Error(`Request timeout while attempting to reach ${r.url}${t.lengthComputable?`(${t.loaded} of ${t.total} bytes transferred)`:""}`))},s.onabort=()=>{d(!0),c=!0},s.onreadystatechange=()=>{a&&(d(),i.socket=setTimeout(()=>h("ESOCKETTIMEDOUT"),a.socket)),c||4!==s.readyState||0===s.status||function(){if(!(c||l||f)){if(0===s.status)return void p(Error("Unknown XHR error"));d(),l=!0,e(null,{body:s.response||(""===s.responseType||"text"===s.responseType?s.responseText:""),url:r.url,method:r.method,headers:y(s.getAllResponseHeaders()),statusCode:s.status,statusMessage:s.statusText})}}()},s.open(r.method,r.url,!0),s.withCredentials=!!r.withCredentials,u&&s.setRequestHeader)for(let t in u)u.hasOwnProperty(t)&&s.setRequestHeader(t,u[t]);return r.rawBody&&(s.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:r,adapter:g,request:s,context:t}),s.send(r.body||null),a&&(i.connect=setTimeout(()=>h("ETIMEDOUT"),a.connect)),{abort:function(){c=!0,s&&s.abort()}};function h(e){f=!0,s.abort();let n=Error("ESOCKETTIMEDOUT"===e?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);n.code=e,t.channels.error.publish(n)}function d(t){(t||c||s.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function p(t){if(l)return;d(!0),l=!0,s=null;let n=t||Error(`Network error while attempting to reach ${r.url}`);n.isNetworkError=!0,n.request=r,e(n)}},w=(t=[],e=b)=>(function t(e,n){let r=[],i=l.reduce((t,e)=>(t[e]=t[e]||[],t),{processOptions:[o],validateOptions:[a]});function s(t){let e;let r=c.reduce((t,e)=>(t[e]=function(){let t=Object.create(null),e=0;return{publish:function(e){for(let n in t)t[n](e)},subscribe:function(n){let r=e++;return t[r]=n,function(){delete t[r]}}}}(),t),{}),o=function(t,e,...n){let r="onError"===t,o=e;for(let e=0;e<i[t].length&&(o=(0,i[t][e])(o,...n),!r||o);e++);return o},s=o("processOptions",t);o("validateOptions",s);let u={options:s,channels:r,applyMiddleware:o},a=r.request.subscribe(t=>{e=n(t,(e,n)=>((t,e,n)=>{let i=t,s=e;if(!i)try{s=o("onResponse",e,n)}catch(t){s=null,i=t}(i=i&&o("onError",i,n))?r.error.publish(i):s&&r.response.publish(s)})(e,n,t))});r.abort.subscribe(()=>{a(),e&&e.abort()});let l=o("onReturn",r,u);return l===r&&r.request.publish(u),l}return s.use=function(t){if(!t)throw Error("Tried to add middleware that resolved to falsey value");if("function"==typeof t)throw Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(t.onReturn&&i.onReturn.length>0)throw Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return l.forEach(e=>{t[e]&&i[e].push(t[e])}),r.push(t),s},s.clone=()=>t(r,n),e.forEach(s.use),s})(t,e);var _,x,C,S,E,I=n(28070),O=n(45541).lW,$={exports:{}};E||(E=1,function(t,e){let n;e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch{}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch{}return!t&&"u">typeof I&&"env"in I&&(t=I.env.DEBUG),t},e.useColors=function(){let t;return"u">typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("u">typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"u">typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"u">typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(n=!1,()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(S?C:(S=1,C=function(t){function e(t){let r,i,o,s=null;function u(...t){if(!u.enabled)return;let n=Number(new Date),i=n-(r||n);u.diff=i,u.prev=r,u.curr=n,r=n,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let o=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;let i=e.formatters[r];if("function"==typeof i){let e=t[o];n=i.call(u,e),t.splice(o,1),o--}return n}),e.formatArgs.call(u,t),(u.log||e.log).apply(u,t)}return u.namespace=t,u.useColors=e.useColors(),u.color=e.selectColor(t),u.extend=n,u.destroy=e.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(u),u}function n(t,n){let r=e(this.namespace+(typeof n>"u"?":":n)+t);return r.log=this.log,r}function r(t,e){let n=0,r=0,i=-1,o=0;for(;n<t.length;)if(r<e.length&&(e[r]===t[n]||"*"===e[r]))"*"===e[r]?(i=r,o=n):n++,r++;else{if(-1===i)return!1;r=i+1,n=++o}for(;r<e.length&&"*"===e[r];)r++;return r===e.length}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){let t=[...e.names,...e.skips.map(t=>"-"+t)].join(",");return e.enable(""),t},e.enable=function(t){for(let n of(e.save(t),e.namespaces=t,e.names=[],e.skips=[],("string"==typeof t?t:"").trim().replace(" ",",").split(",").filter(Boolean)))"-"===n[0]?e.skips.push(n.slice(1)):e.names.push(n)},e.enabled=function(t){for(let n of e.skips)if(r(t,n))return!1;for(let n of e.names)if(r(t,n))return!0;return!1},e.humanize=function(){if(x)return _;function t(t,e,n,r){return Math.round(t/n)+" "+r+(e>=1.5*n?"s":"")}return x=1,_=function(e,n){n=n||{};var r,i,o=typeof e;if("string"===o&&e.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===o&&isFinite(e))return n.long?(i=Math.abs(e))>=864e5?t(e,i,864e5,"day"):i>=36e5?t(e,i,36e5,"hour"):i>=6e4?t(e,i,6e4,"minute"):i>=1e3?t(e,i,1e3,"second"):e+" ms":(r=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":r>=36e5?Math.round(e/36e5)+"h":r>=6e4?Math.round(e/6e4)+"m":r>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(n=>{e[n]=t[n]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e)|0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}))(e);let{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}($,$.exports)),$.exports,Object.prototype.hasOwnProperty;let j=typeof O>"u"?()=>!1:t=>O.isBuffer(t);function R(t){return"[object Object]"===Object.prototype.toString.call(t)}let T=["boolean","string","number"],A={};"u">typeof globalThis?A=globalThis:"u">typeof window?A=window:"u">typeof global?A=global:"u">typeof self&&(A=self);var k=A;let q=(t={})=>{let e=t.implementation||Promise;if(!e)throw Error("`Promise` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new e((e,i)=>{let o=r.options.cancelToken;o&&o.promise.then(t=>{n.abort.publish(t),i(t)}),n.error.subscribe(i),n.response.subscribe(n=>{e(t.onlyBody?n.body:n)}),setTimeout(()=>{try{n.request.publish(r)}catch(t){i(t)}},0)})}};class P{__CANCEL__=!0;message;constructor(t){this.message=t}toString(){return"Cancel"+(this.message?`: ${this.message}`:"")}}class D{promise;reason;constructor(t){if("function"!=typeof t)throw TypeError("executor must be a function.");let e=null;this.promise=new Promise(t=>{e=t}),t(t=>{this.reason||(this.reason=new P(t),e(this.reason))})}static source=()=>{let t;return{token:new D(e=>{t=e}),cancel:t}}}q.Cancel=P,q.CancelToken=D,q.isCancel=t=>!(!t||!t?.__CANCEL__);var F=(t,e,n)=>("GET"===n.method||"HEAD"===n.method)&&(t.isNetworkError||!1);function N(t){return 100*Math.pow(2,t)+100*Math.random()}let M=(t={})=>(t=>{let e=t.maxRetries||5,n=t.retryDelay||N,r=t.shouldRetry;return{onError:(t,i)=>{var o;let s=i.options,u=s.maxRetries||e,a=s.retryDelay||n,c=s.shouldRetry||r,l=s.attemptNumber||0;if(null!==(o=s.body)&&"object"==typeof o&&"function"==typeof o.pipe||!c(t,l,s)||l>=u)return t;let f=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:l+1})});return setTimeout(()=>i.channels.request.publish(f),a(l)),null}}})({shouldRetry:F,...t});M.shouldRetry=F;var z=n(57454),U=n(2033),L=n(57982),H=n(42750),B=n(97800),J=n(28161),X=n(55038),V=n(55090),Z=n(51272),G=n(97999),W=n(36746),K=n(31583),Q=n(43786),Y=n(81581),tt=n(68837),te=n(2178),tn=n(96951),tr=n(57442),ti=n(15245),to=n(24339),ts=n(70804),tu=n(93314),ta=n(54949),tc=n(92252),tl=n(65351);function tf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,tl.jO)(t);return n?(0,tc.z)(tf.apply(void 0,(0,ti.ev)([],(0,ti.CR)(t))),(0,ta.Z)(n)):(0,ts.e)(function(e,n){(0,to.l)((0,ti.ev)([e],(0,ti.CR)((0,tu.k)(t))))(n)})}var th=n(30542),td=n(30596);class tp extends Error{response;statusCode=400;responseBody;details;constructor(t){let e=tv(t);super(e.message),Object.assign(this,e)}}class ty extends Error{response;statusCode=500;responseBody;details;constructor(t){let e=tv(t);super(e.message),Object.assign(this,e)}}function tv(t){let e=t.body,n={response:t,statusCode:t.statusCode,responseBody:-1!==(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(e,null,2):e,message:"",details:void 0};if(e.error&&e.message)return n.message=`${e.error} - ${e.message}`,n;if(tg(e)&&tg(e.error)&&"mutationError"===e.error.type&&"string"==typeof e.error.description||tg(e)&&tg(e.error)&&"actionError"===e.error.type&&"string"==typeof e.error.description){let t=e.error.items||[],r=t.slice(0,5).map(t=>t.error?.description).filter(Boolean),i=r.length?`:
- ${r.join(`
- `)}`:"";return t.length>5&&(i+=`
...and ${t.length-5} more`),n.message=`${e.error.description}${i}`,n.details=e.error,n}return e.error&&e.error.description?(n.message=e.error.description,n.details=e.error):n.message=e.error||e.message||function(t){let e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}(t),n}function tg(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}class tm extends Error{projectId;addOriginUrl;constructor({projectId:t}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=t;let e=new URL(`https://sanity.io/manage/project/${t}/api`);if("u">typeof location){let{origin:t}=location;e.searchParams.set("cors","add"),e.searchParams.set("origin",t),this.addOriginUrl=e,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${e}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${e}`}}let tb={onResponse:t=>{if(t.statusCode>=500)throw new ty(t);if(t.statusCode>=400)throw new tp(t);return t}};function tw(t){return w([M({shouldRetry:t_}),...t,function(){let t={};return{onResponse:e=>{let n=e.headers["x-sanity-warning"];for(let e of Array.isArray(n)?n:[n])!e||t[e]||(t[e]=!0,console.warn(e));return e}}}(),{processOptions:t=>{let e=t.body;return!e||"function"==typeof e.pipe||j(e)||-1===T.indexOf(typeof e)&&!Array.isArray(e)&&!function(t){if(!1===R(t))return!1;let e=t.constructor;if(void 0===e)return!0;let n=e.prototype;return!(!1===R(n)||!1===n.hasOwnProperty("isPrototypeOf"))}(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}},{onResponse:t=>{let e=t.headers["content-type"]||"",n=-1!==e.indexOf("application/json");return t.body&&e&&n?Object.assign({},t,{body:function(t){try{return JSON.parse(t)}catch(t){throw t.message=`Failed to parsed response body as JSON: ${t.message}`,t}}(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})},{onRequest:t=>{if("xhr"!==t.adapter)return;let e=t.request,n=t.context;function r(t){return e=>{let r=e.lengthComputable?e.loaded/e.total*100:-1;n.channels.progress.publish({stage:t,percent:r,total:e.total,loaded:e.loaded,lengthComputable:e.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=r("upload")),"onprogress"in e&&(e.onprogress=r("download"))}},tb,function(t={}){let e=t.implementation||k.Observable;if(!e)throw Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,n)=>new e(e=>(t.error.subscribe(t=>e.error(t)),t.progress.subscribe(t=>e.next(Object.assign({type:"progress"},t))),t.response.subscribe(t=>{e.next(Object.assign({type:"response"},t)),e.complete()}),t.request.publish(n),()=>t.abort.publish()))}}({implementation:z.y})])}function t_(t,e,n){if(0===n.maxRetries)return!1;let r="GET"===n.method||"HEAD"===n.method,i=(n.uri||n.url).startsWith("/data/query"),o=t.response&&(429===t.response.statusCode||502===t.response.statusCode||503===t.response.statusCode);return(!!r||!!i)&&!!o||M.shouldRetry(t,e,n)}function tx(t){return"https://www.sanity.io/help/"+t}let tC=["image","file"],tS=["before","after","replace"],tE=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},tI=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw Error("`projectId` can only contain only a-z, 0-9 and dashes")},tO=t=>{if(-1===tC.indexOf(t))throw Error(`Invalid asset type: ${t}. Must be one of ${tC.join(", ")}`)},t$=(t,e)=>{if(null===e||"object"!=typeof e||Array.isArray(e))throw Error(`${t}() takes an object of properties`)},tj=(t,e)=>{if("string"!=typeof e||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw Error(`${t}(): "${e}" is not a valid document ID`)},tR=(t,e)=>{if(!e._id)throw Error(`${t}() requires that the document contains an ID ("_id" property)`);tj(t,e._id)},tT=(t,e,n)=>{let r="insert(at, selector, items)";if(-1===tS.indexOf(t)){let t=tS.map(t=>`"${t}"`).join(", ");throw Error(`${r} takes an "at"-argument which is one of: ${t}`)}if("string"!=typeof e)throw Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw Error(`${r} takes an "items"-argument which must be an array`)},tA=t=>{if(!t.dataset)throw Error("`dataset` must be provided to perform queries");return t.dataset||""},tk=t=>{if("string"!=typeof t||!/^[a-z0-9._-]{1,75}$/i.test(t))throw Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},tq=t=>{var e;let n,r;return e=(...e)=>console.warn(t.join(" "),...e),n=!1,(...t)=>(n||(r=e(...t),n=!0),r)},tP=tq(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),tD=tq(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),tF=tq(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),tN=tq(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),tM=tq(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${tx("js-client-browser-token")} for more information and how to hide this warning.`]),tz=tq(["Using the Sanity client without specifying an API version is deprecated.",`See ${tx("js-client-api-version")}`]),tU=(tq(["The default export of @sanity/client has been deprecated. Use the named export `createClient` instead."]),{apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}}),tL=["localhost","127.0.0.1","0.0.0.0"],tH=t=>-1!==tL.indexOf(t),tB=/^[a-z0-9_]+$/i;function tJ(t){if(Array.isArray(t)&&t.includes("raw"))throw TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives');let e=(Array.isArray(t)?t:[t]).filter(t=>"string"!=typeof t||!tB.test(t));if(e.length>0){let t=e.map(t=>JSON.stringify(t));throw TypeError(`Invalid API perspective value${1===e.length?"":"s"}: ${t.join(", ")}, expected \`published\`, \`drafts\`, \`raw\` or a release identifier string`)}}let tX=(t,e)=>{let n={...e,...t,stega:{..."boolean"==typeof e.stega?{enabled:e.stega}:e.stega||tU.stega,..."boolean"==typeof t.stega?{enabled:t.stega}:t.stega||{}}};n.apiVersion||tz();let r={...tU,...n},i=r.useProjectHostname;if(typeof Promise>"u"){let t=tx("js-client-promise-polyfill");throw Error(`No native Promise-implementation found, polyfill needed - see ${t}`)}if(i&&!r.projectId)throw Error("Configuration must contain `projectId`");if("u">typeof r.perspective&&tJ(r.perspective),"encodeSourceMap"in r)throw Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if("boolean"!=typeof r.stega.enabled)throw Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&void 0===r.stega.studioUrl)throw Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&"string"!=typeof r.stega.studioUrl&&"function"!=typeof r.stega.studioUrl)throw Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);let o="u">typeof window&&window.location&&window.location.hostname,s=o&&tH(window.location.hostname);o&&s&&r.token&&!0!==r.ignoreBrowserTokenWarning?tM():typeof r.useCdn>"u"&&tD(),i&&tI(r.projectId),r.dataset&&tE(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?tk(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===tU.apiHost,!0===r.useCdn&&r.withCredentials&&tP(),r.useCdn=!1!==r.useCdn&&!r.withCredentials,function(t){if("1"===t||"X"===t)return;let e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}(r.apiVersion);let u=r.apiHost.split("://",2),a=u[0],c=u[1],l=r.isDefaultApi?"apicdn.sanity.io":c;return r.useProjectHostname?(r.url=`${a}://${r.projectId}.${c}/v${r.apiVersion}`,r.cdnUrl=`${a}://${r.projectId}.${l}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class tV extends Error{name="ConnectionFailedError"}class tZ extends Error{name="DisconnectError";reason;constructor(t,e,n={}){super(t,n),this.reason=e}}class tG extends Error{name="ChannelError";data;constructor(t,e){super(t),this.data=e}}class tW extends Error{name="MessageError";data;constructor(t,e,n={}){super(t,n),this.data=e}}class tK extends Error{name="MessageParseError"}let tQ=["channelError","disconnect"];function tY(t,e){return(0,U.P)(()=>{let e=t();return(0,L.b)(e)?e:(0,H.of)(e)}).pipe((0,B.z)(t=>new z.y(n=>{let r=e.includes("open"),i=e.includes("reconnect");function o(e){if("data"in e){let[t,r]=t0(e);n.error(t?new tK("Unable to parse EventSource error message",{cause:r}):new tW((r?.data).message,r));return}t.readyState===t.CLOSED?n.error(new tV("EventSource connection failed")):i&&n.next({type:"reconnect"})}function s(){n.next({type:"open"})}function u(t){let[e,r]=t0(t);if(e){n.error(new tK("Unable to parse EventSource message",{cause:e}));return}if("channelError"===t.type){var i;n.error(new tG((i=r?.data).error?i.error.description?i.error.description:"string"==typeof i.error?i.error:JSON.stringify(i.error,null,2):i.message||"Unknown listener error",r.data));return}if("disconnect"===t.type){n.error(new tZ(`Server disconnected client: ${r.data?.reason||"unknown error"}`));return}n.next({type:t.type,id:t.lastEventId,...r.data?{data:r.data}:{}})}t.addEventListener("error",o),r&&t.addEventListener("open",s);let a=[...new Set([...tQ,...e])].filter(t=>"error"!==t&&"open"!==t&&"reconnect"!==t);return a.forEach(e=>t.addEventListener(e,u)),()=>{t.removeEventListener("error",o),r&&t.removeEventListener("open",s),a.forEach(e=>t.removeEventListener(e,u)),t.close()}})))}function t0(t){try{let e="string"==typeof t.data&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...!function(t){for(let e in t)return!1;return!0}(e)?{data:e}:{}}]}catch(t){return[t,null]}}function t1(t){if("string"==typeof t)return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if("object"==typeof t&&null!==t&&"query"in t&&"string"==typeof t.query)return"params"in t&&"object"==typeof t.params&&null!==t.params?{query:t.query,params:t.params}:{query:t.query};let e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw Error(`Unknown selection - must be one of:

${e}`)}class t3{selection;operations;constructor(t,e={}){this.selection=t,this.operations=e}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return t$("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,e,n){return tT(t,e,n),this._assign("insert",{[t]:e,items:n})}append(t,e){return this.insert("after",`${t}[-1]`,e)}prepend(t,e){return this.insert("before",`${t}[0]`,e)}splice(t,e,n,r){let i=e<0?e-1:e,o=typeof n>"u"||-1===n?-1:Math.max(0,e+n),s=`${t}[${i}:${i<0&&o>=0?"":o}]`;return this.insert("replace",s,r||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...t1(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,e,n=!0){return t$(t,e),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},n&&this.operations[t]||{},e)}),this}_set(t,e){return this._assign(t,e,!1)}}class t9 extends t3{#u;constructor(t,e,n){super(t,e),this.#u=n}clone(){return new t9(this.selection,{...this.operations},this.#u)}commit(t){if(!this.#u)throw Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let e=Object.assign({returnFirst:"string"==typeof this.selection,returnDocuments:!0},t);return this.#u.mutate({patch:this.serialize()},e)}}class t4 extends t3{#u;constructor(t,e,n){super(t,e),this.#u=n}clone(){return new t4(this.selection,{...this.operations},this.#u)}commit(t){if(!this.#u)throw Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let e=Object.assign({returnFirst:"string"==typeof this.selection,returnDocuments:!0},t);return this.#u.mutate({patch:this.serialize()},e)}}let t5={returnDocuments:!1};class t2{operations;trxId;constructor(t=[],e){this.operations=t,this.trxId=e}create(t){return t$("create",t),this._add({create:t})}createIfNotExists(t){let e="createIfNotExists";return t$(e,t),tR(e,t),this._add({[e]:t})}createOrReplace(t){let e="createOrReplace";return t$(e,t),tR(e,t),this._add({[e]:t})}delete(t){return tj("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}class t8 extends t2{#u;constructor(t,e,n){super(t,n),this.#u=e}clone(){return new t8([...this.operations],this.#u,this.trxId)}commit(t){if(!this.#u)throw Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#u.mutate(this.serialize(),Object.assign({transactionId:this.trxId},t5,t||{}))}patch(t,e){let n="function"==typeof e,r="string"!=typeof t&&t instanceof t4,i="object"==typeof t&&("query"in t||"id"in t);if(r)return this._add({patch:t.serialize()});if(n){let n=e(new t4(t,{},this.#u));if(!(n instanceof t4))throw Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}if(i){let n=new t4(t,e||{},this.#u);return this._add({patch:n.serialize()})}return this._add({patch:{id:t,...e}})}}class t6 extends t2{#u;constructor(t,e,n){super(t,n),this.#u=e}clone(){return new t6([...this.operations],this.#u,this.trxId)}commit(t){if(!this.#u)throw Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#u.mutate(this.serialize(),Object.assign({transactionId:this.trxId},t5,t||{}))}patch(t,e){let n="function"==typeof e;if("string"!=typeof t&&t instanceof t9)return this._add({patch:t.serialize()});if(n){let n=e(new t9(t,{},this.#u));if(!(n instanceof t9))throw Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:{id:t,...e}})}}let t7=({query:t,params:e={},options:n={}})=>{let r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:s,...u}=n;for(let[n,o]of(i&&r.append("tag",i),r.append("query",t),Object.entries(e)))r.append(`$${n}`,JSON.stringify(o));for(let[t,e]of Object.entries(u))e&&r.append(t,`${e}`);return!1===s&&r.append("returnQuery","false"),!1===o&&r.append("includeMutations","false"),`?${r}`},et=(t,e)=>!1===t?void 0:typeof t>"u"?e:t,ee=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:et(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),en=t=>"response"===t.type,er=t=>t.body,ei=(t,e)=>t.reduce((t,n)=>(t[e(n)]=n,t),Object.create(null));function eo(t,e,r,i,o={},s={}){let u="stega"in s?{...r||{},..."boolean"==typeof s.stega?{enabled:s.stega}:s.stega||{}}:r,a=u.enabled?(0,tr.N)(o):o,c=!1===s.filterResponse?t=>t:t=>t.result,{cache:l,next:f,...h}={useAbortSignal:"u">typeof s.signal,resultSourceMap:u.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:!1===s.filterResponse&&!1!==s.returnQuery},d=ed(t,e,"query",{query:i,params:a},"u">typeof l||"u">typeof f?{...h,fetch:{cache:l,next:f}}:h);return u.enabled?d.pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tf.apply(void 0,(0,ti.ev)([],(0,ti.CR)(t)))}((0,J.D)(n.e(2179).then(n.bind(n,92179)).then(function(t){return t.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:t})=>t))),(0,th.U)(([t,e])=>{let n=e(t.result,t.resultSourceMap,u);return c({...t,result:n})})):d.pipe((0,th.U)(c))}function es(t,e,n,r={}){let i={uri:eg(t,"doc",n),json:!0,tag:r.tag,signal:r.signal};return ey(t,e,i).pipe((0,td.h)(en),(0,th.U)(t=>t.body.documents&&t.body.documents[0]))}function eu(t,e,n,r={}){let i={uri:eg(t,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return ey(t,e,i).pipe((0,td.h)(en),(0,th.U)(t=>{let e=ei(t.body.documents||[],t=>t._id);return n.map(t=>e[t]||null)}))}function ea(t,e,n,r){return tR("createIfNotExists",n),ep(t,e,n,"createIfNotExists",r)}function ec(t,e,n,r){return tR("createOrReplace",n),ep(t,e,n,"createOrReplace",r)}function el(t,e,n,r){return ed(t,e,"mutate",{mutations:[{delete:t1(n)}]},r)}function ef(t,e,n,r){let i;return ed(t,e,"mutate",{mutations:Array.isArray(i=n instanceof t4||n instanceof t9?{patch:n.serialize()}:n instanceof t8||n instanceof t6?n.serialize():n)?i:[i],transactionId:r&&r.transactionId||void 0},r)}function eh(t,e,n,r){let i=Array.isArray(n)?n:[n];return ed(t,e,"actions",{actions:i,transactionId:r&&r.transactionId||void 0,skipCrossDatasetReferenceValidation:r&&r.skipCrossDatasetReferenceValidation||void 0,dryRun:r&&r.dryRun||void 0},r)}function ed(t,e,n,r,i={}){let o="mutate"===n,s="actions"===n,u=o||s?"":t7(r),a=!o&&!s&&u.length<11264,c=i.returnFirst,{timeout:l,token:f,tag:h,headers:d,returnQuery:p,lastLiveEventId:y,cacheMode:v}=i,g=eg(t,n,a?u:"");return ey(t,e,{method:a?"GET":"POST",uri:g,json:!0,body:a?void 0:r,query:o&&ee(i),timeout:l,headers:d,token:f,tag:h,returnQuery:p,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(y)?y[0]:y,cacheMode:v,canUseCdn:"query"===n,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn}).pipe((0,td.h)(en),(0,th.U)(er),(0,th.U)(t=>{if(!o)return t;let e=t.results||[];if(i.returnDocuments)return c?e[0]&&e[0].document:e.map(t=>t.document);let n=c?e[0]&&e[0].id:e.map(t=>t.id);return{transactionId:t.transactionId,results:e,[c?"documentId":"documentIds"]:n}}))}function ep(t,e,n,r,i={}){return ed(t,e,"mutate",{mutations:[{[r]:n}]},Object.assign({returnFirst:!0,returnDocuments:!0},i))}function ey(t,e,n){var r;let i=n.url||n.uri,o=t.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&0===i.indexOf("/data/"):n.canUseCdn,u=(n.useCdn??o.useCdn)&&s,a=n.tag&&o.requestTagPrefix?[o.requestTagPrefix,n.tag].join("."):n.tag||o.requestTagPrefix;if(a&&null!==n.tag&&(n.query={tag:tk(a),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&0===i.indexOf("/data/query/")){let t=n.resultSourceMap??o.resultSourceMap;void 0!==t&&!1!==t&&(n.query={resultSourceMap:t,...n.query});let e=n.perspective||o.perspective;"u">typeof e&&("previewDrafts"===e&&tN(),tJ(e),n.query={perspective:Array.isArray(e)?e.join(","):e,...n.query},(Array.isArray(e)&&e.length>0||"previewDrafts"===e||"drafts"===e)&&u&&(u=!1,tF())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),!1===n.returnQuery&&(n.query={returnQuery:"false",...n.query}),u&&"noStale"==n.cacheMode&&(n.query={cacheMode:"noStale",...n.query})}let c=function(t,e={}){let n={},r=e.token||t.token;r&&(n.Authorization=`Bearer ${r}`),e.useGlobalApi||t.useProjectHostname||!t.projectId||(n["X-Sanity-Project-ID"]=t.projectId);let i=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},n,e.headers||{}),timeout:typeof o>"u"?3e5:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:"object"==typeof e.fetch&&"object"==typeof t.fetch?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}(o,Object.assign({},n,{url:em(t,i,u)})),l=new z.y(t=>e(c,o.requester).subscribe(t));return n.signal?l.pipe((r=n.signal,t=>new z.y(e=>{let n=()=>e.error(function(t){if(eb)return new DOMException(t?.reason??"The operation was aborted.","AbortError");let e=Error(t?.reason??"The operation was aborted.");return e.name="AbortError",e}(r));if(r&&r.aborted){n();return}let i=t.subscribe(e);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),i.unsubscribe()}}))):l}function ev(t,e,n){return ey(t,e,n).pipe((0,td.h)(t=>"response"===t.type),(0,th.U)(t=>t.body))}function eg(t,e,n){let r=tA(t.config()),i=`/${e}/${r}`;return`/data${n?`${i}/${n}`:i}`.replace(/\/($|\?)/,"$1")}function em(t,e,n=!1){let{url:r,cdnUrl:i}=t.config();return`${n?i:r}/${e.replace(/^\//,"")}`}let eb=!!globalThis.DOMException;class ew{#u;#a;constructor(t,e){this.#u=t,this.#a=e}upload(t,e,n){return ex(this.#u,this.#a,t,e,n)}}class e_{#u;#a;constructor(t,e){this.#u=t,this.#a=e}upload(t,e,n){let r=ex(this.#u,this.#a,t,e,n);return(0,X.n)(r.pipe((0,td.h)(t=>"response"===t.type),(0,th.U)(t=>t.body.document)))}}function ex(t,e,n,r,i={}){tO(n);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);let s=tA(t.config()),u="image"===n?"images":"files",a=!(typeof File>"u")&&r instanceof File?Object.assign({filename:!1===i.preserveFilename?void 0:r.name,contentType:r.type},i):i,{tag:c,label:l,title:f,description:h,creditLine:d,filename:p,source:y}=a,v={label:l,title:f,description:h,filename:p,meta:o,creditLine:d};return y&&(v.sourceId=y.id,v.sourceName=y.name,v.sourceUrl=y.url),ey(t,e,{tag:c,method:"POST",timeout:a.timeout||0,uri:`/assets/${u}/${s}`,headers:a.contentType?{"Content-Type":a.contentType}:{},query:v,body:r})}var eC=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((n,r)=>(n[r]=typeof t[r]>"u"?e[r]:t[r],n),{});let eS=(t,e)=>e.reduce((e,n)=>(typeof t[n]>"u"||(e[n]=t[n]),e),{}),eE=(0,U.P)(()=>n.e(5913).then(n.t.bind(n,15913,19))).pipe((0,th.U)(({default:t})=>t),(0,V.d)(1));function eI(){return function(t){return t.pipe((0,Z.K)((t,e)=>t instanceof tV?(0,G.z)((0,H.of)({type:"reconnect"}),(0,W.H)(1e3).pipe((0,B.z)(()=>e))):(0,K._)(()=>t)))}}let eO=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],e$={includeResult:!0};function ej(t,e,n={}){let{url:r,token:i,withCredentials:o,requestTagPrefix:s}=this.config(),u=n.tag&&s?[s,n.tag].join("."):n.tag,a={...eC(n,e$),tag:u},c=t7({query:t,params:e,options:{tag:u,...eS(a,eO)}}),l=`${r}${eg(this,"listen",c)}`;if(l.length>14800)return(0,K._)(()=>Error("Query too large for listener"));let f=a.events?a.events:["mutation"],h={};return(i||o)&&(h.withCredentials=!0),i&&(h.headers={Authorization:`Bearer ${i}`}),tY(()=>(typeof EventSource>"u"||h.headers?eE:(0,H.of)(EventSource)).pipe((0,th.U)(t=>new t(l,h))),f).pipe(eI(),(0,td.h)(t=>f.includes(t.type)),(0,th.U)(t=>({type:t.type,..."data"in t?t.data:{}})))}let eR="2021-03-25";class eT{#u;constructor(t){this.#u=t}events({includeDrafts:t=!1,tag:e}={}){var n,r,i;let{projectId:o,apiVersion:s,token:u,withCredentials:a,requestTagPrefix:c}=this.#u.config(),l=s.replace(/^v/,"");if("X"!==l&&l<eR)throw Error(`The live events API requires API version ${eR} or later. The current API version is ${l}. Please update your API version to use this feature.`);if(t&&!u&&!a)throw Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");let f=eg(this.#u,"live/events"),h=new URL(this.#u.getUrl(f,!1)),d=e&&c?[c,e].join("."):e;d&&h.searchParams.set("tag",d),t&&h.searchParams.set("includeDrafts","true");let p={};t&&u&&(p.headers={Authorization:`Bearer ${u}`}),t&&a&&(p.withCredentials=!0);let y=`${h.href}::${JSON.stringify(p)}`,v=eA.get(y);if(v)return v;let g=tY(()=>(typeof EventSource>"u"||p.headers?eE:(0,H.of)(EventSource)).pipe((0,th.U)(t=>new t(h.href,p))),["message","restart","welcome","reconnect"]).pipe(eI(),(0,th.U)(t=>{if("message"===t.type){let{data:e,...n}=t;return{...n,tags:e.tags}}return t})),m=(r={method:"OPTIONS",mode:"cors",credentials:p.withCredentials?"include":"omit",headers:p.headers},new z.y(t=>{let e=new AbortController,n=e.signal;return fetch(h,{...r,signal:e.signal}).then(e=>{t.next(e),t.complete()},e=>{n.aborted||t.error(e)}),()=>e.abort()})).pipe((0,B.z)(()=>tn.E),(0,Z.K)(()=>{throw new tm({projectId:o})})),b=(0,G.z)(m,g).pipe((0,Y.x)(()=>eA.delete(y)),(i="function"==typeof(n={predicate:t=>"welcome"===t.type})?{predicate:n}:n,t=>{let e,n=!1,{predicate:r,...o}=i,s=t.pipe((0,Q.b)(t=>{i.predicate(t)&&(n=!0,e=t)}),(0,Y.x)(()=>{n=!1,e=void 0}),(0,tt.B)(o)),u=new z.y(t=>{n&&t.next(e),t.complete()});return(0,te.T)(s,u)}));return eA.set(y,b),b}}let eA=new Map;class ek{#u;#a;constructor(t,e){this.#u=t,this.#a=e}create(t,e){return eP(this.#u,this.#a,"PUT",t,e)}edit(t,e){return eP(this.#u,this.#a,"PATCH",t,e)}delete(t){return eP(this.#u,this.#a,"DELETE",t)}list(){return ev(this.#u,this.#a,{uri:"/datasets",tag:null})}}class eq{#u;#a;constructor(t,e){this.#u=t,this.#a=e}create(t,e){return(0,X.n)(eP(this.#u,this.#a,"PUT",t,e))}edit(t,e){return(0,X.n)(eP(this.#u,this.#a,"PATCH",t,e))}delete(t){return(0,X.n)(eP(this.#u,this.#a,"DELETE",t))}list(){return(0,X.n)(ev(this.#u,this.#a,{uri:"/datasets",tag:null}))}}function eP(t,e,n,r,i){return tE(r),ev(t,e,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}class eD{#u;#a;constructor(t,e){this.#u=t,this.#a=e}list(t){let e=t?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return ev(this.#u,this.#a,{uri:e})}getById(t){return ev(this.#u,this.#a,{uri:`/projects/${t}`})}}class eF{#u;#a;constructor(t,e){this.#u=t,this.#a=e}list(t){let e=t?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return(0,X.n)(ev(this.#u,this.#a,{uri:e}))}getById(t){return(0,X.n)(ev(this.#u,this.#a,{uri:`/projects/${t}`}))}}class eN{#u;#a;constructor(t,e){this.#u=t,this.#a=e}getById(t){return ev(this.#u,this.#a,{uri:`/users/${t}`})}}class eM{#u;#a;constructor(t,e){this.#u=t,this.#a=e}getById(t){return(0,X.n)(ev(this.#u,this.#a,{uri:`/users/${t}`}))}}class ez{assets;datasets;live;projects;users;#c;#a;listen=ej;constructor(t,e=tU){this.config(e),this.#a=t,this.assets=new ew(this,this.#a),this.datasets=new ek(this,this.#a),this.live=new eT(this),this.projects=new eD(this,this.#a),this.users=new eN(this,this.#a)}clone(){return new ez(this.#a,this.config())}config(t){if(void 0===t)return{...this.#c};if(this.#c&&!1===this.#c.allowReconfigure)throw Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#c=tX(t,this.#c||{}),this}withConfig(t){let e=this.config();return new ez(this.#a,{...e,...t,stega:{...e.stega||{},..."boolean"==typeof t?.stega?{enabled:t.stega}:t?.stega||{}}})}fetch(t,e,n){return eo(this,this.#a,this.#c.stega,t,e,n)}getDocument(t,e){return es(this,this.#a,t,e)}getDocuments(t,e){return eu(this,this.#a,t,e)}create(t,e){return ep(this,this.#a,t,"create",e)}createIfNotExists(t,e){return ea(this,this.#a,t,e)}createOrReplace(t,e){return ec(this,this.#a,t,e)}delete(t,e){return el(this,this.#a,t,e)}mutate(t,e){return ef(this,this.#a,t,e)}patch(t,e){return new t9(t,e,this)}transaction(t){return new t6(t,this)}action(t,e){return eh(this,this.#a,t,e)}request(t){return ev(this,this.#a,t)}getUrl(t,e){return em(this,t,e)}getDataUrl(t,e){return eg(this,t,e)}}class eU{assets;datasets;live;projects;users;observable;#c;#a;listen=ej;constructor(t,e=tU){this.config(e),this.#a=t,this.assets=new e_(this,this.#a),this.datasets=new eq(this,this.#a),this.live=new eT(this),this.projects=new eF(this,this.#a),this.users=new eM(this,this.#a),this.observable=new ez(t,e)}clone(){return new eU(this.#a,this.config())}config(t){if(void 0===t)return{...this.#c};if(this.#c&&!1===this.#c.allowReconfigure)throw Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),this.#c=tX(t,this.#c||{}),this}withConfig(t){let e=this.config();return new eU(this.#a,{...e,...t,stega:{...e.stega||{},..."boolean"==typeof t?.stega?{enabled:t.stega}:t?.stega||{}}})}fetch(t,e,n){return(0,X.n)(eo(this,this.#a,this.#c.stega,t,e,n))}getDocument(t,e){return(0,X.n)(es(this,this.#a,t,e))}getDocuments(t,e){return(0,X.n)(eu(this,this.#a,t,e))}create(t,e){return(0,X.n)(ep(this,this.#a,t,"create",e))}createIfNotExists(t,e){return(0,X.n)(ea(this,this.#a,t,e))}createOrReplace(t,e){return(0,X.n)(ec(this,this.#a,t,e))}delete(t,e){return(0,X.n)(el(this,this.#a,t,e))}mutate(t,e){return(0,X.n)(ef(this,this.#a,t,e))}patch(t,e){return new t4(t,e,this)}transaction(t){return new t8(t,this)}action(t,e){return(0,X.n)(eh(this,this.#a,t,e))}request(t){return(0,X.n)(ev(this,this.#a,t))}dataRequest(t,e,n){return(0,X.n)(ed(this,this.#a,t,e,n))}getUrl(t,e){return em(this,t,e)}getDataUrl(t,e){return eg(this,t,e)}}let eL={requester:tw(h=[]),createClient:t=>{let e=tw(h);return new eU((n,r)=>(r||e)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,...n}),t)}},eH=(eL.requester,eL.createClient)},15245:function(t,e,n){n.d(e,{CR:function(){return l},FC:function(){return p},Jh:function(){return a},KL:function(){return y},XA:function(){return c},ZT:function(){return i},_T:function(){return s},ev:function(){return h},fl:function(){return f},mG:function(){return u},pi:function(){return o},qq:function(){return d}});var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(a){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(t,o)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function d(t){return this instanceof d?(this.v=t,this):new d(t)}function p(t,e,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(t){return function(e){return Promise.resolve(e).then(t,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(t,e){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||u(t,e)})},e&&(r[t]=e(r[t])))}function u(t,e){try{var n;(n=i[t](e)).value instanceof d?Promise.resolve(n.value.v).then(a,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}}function a(t){u("next",t)}function c(t){u("throw",t)}function l(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}}function y(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}"function"==typeof SuppressedError&&SuppressedError},18450:function(t,e,n){n.d(e,{i:function(){return i}});var r=n(82631);function i(t){let e=(0,r.useRef)(null);return(0,r.useInsertionEffect)(()=>{e.current=t},[t]),(0,r.useCallback)((...t)=>(0,e.current)(...t),[])}}}]);